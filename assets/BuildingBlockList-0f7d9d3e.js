import{s as it,V as me,a as ut,m as Ee,u as Ke,b as fe,c as ke,d as st,e as ot,f as rt,B as ct}from"./BuildingBlock-5d22b09a.js";import{_ as _e,J as B,M as z,L as h,W as M,P as Q,O as W,p as he,I as Ve,X as je,n as dt,l as ae,x as G,d as Pe,c as b,e as Ne,Y as ft,s as vt,t as N,m as a,r as I,Z as mt,$ as ht,a0 as gt,y as L,i as ze,a1 as ve,a2 as Le,B as xe,a3 as Ae,w as pe,a4 as He,F as te,a5 as yt,a6 as Te,a7 as kt,E as Se,G as de,a8 as bt,H as Ce,S as H,K as Y,a9 as Re,Q as Fe,V as Vt}from"./index-41db8d29.js";import{R as Ct}from"./RegisterLoadingProgress-f2f21aaa.js";import{m as _t,h as xt,i as Me,f as we,j as De,k as pt,l as $e,c as Ge,d as le,b as re,g as Be,n as St,e as Ft}from"./VList-c2ef60e5.js";import{r as wt,m as Qe,u as ne,R as Bt,q as It,s as Pt,v as We,i as Oe,w as Ye,x as Ie,p as At,k as Dt,l as Je,n as Ot}from"./VContainer-a7f0d266.js";import{V as Xe}from"./VDialog-1297742e.js";import{a as ce,V as be}from"./VRow-4195f4dd.js";import"./_commonjsHelpers-725317a4.js";import"./VTooltip-18b368b2.js";const Lt={props:{status:String,variant:{type:String,default:"flat"},size:{type:String,default:"small"}},computed:{color(){return it[this.status]||null},label(){return this.status.charAt(0).toUpperCase()+this.status.substring(1).replaceAll("-"," ")}}};function Tt(e,l,t,s,i,o){return t.status?(B(),z(me,{key:0,variant:t.variant,color:o.color,size:t.size},{default:h(()=>[M(Q(o.label),1)]),_:1},8,["variant","color","size"])):W("",!0)}const Ze=_e(Lt,[["render",Tt]]);const qe=Symbol.for("vuetify:selection-control-group"),et=he({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:Ve,trueIcon:Ve,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:je},...dt(),...wt()},"v-selection-control-group");ae()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...Qe(),...et()},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const s=G(e,"modelValue"),i=Pe(),o=b(()=>e.id||`v-selection-control-group-${i}`),d=b(()=>e.name||o.value),r=new Set;return Ne(qe,{modelValue:s,forceUpdate:()=>{r.forEach(n=>n())},onForceUpdate:n=>{r.add(n),ft(()=>{r.delete(n)})}}),vt({[e.defaultsTarget]:{color:N(e,"color"),disabled:N(e,"disabled"),density:N(e,"density"),error:N(e,"error"),inline:N(e,"inline"),modelValue:s,multiple:b(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),name:d,falseIcon:N(e,"falseIcon"),trueIcon:N(e,"trueIcon"),readonly:N(e,"readonly"),ripple:N(e,"ripple"),type:N(e,"type"),valueComparator:N(e,"valueComparator")}}),ne(()=>{var n;return a("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(n=t.default)==null?void 0:n.call(t)])}),{}}});const tt=he({label:String,trueValue:null,falseValue:null,value:null,...Qe(),...et()},"v-selection-control");function Rt(e){const l=ze(qe,void 0),{densityClasses:t}=Pt(e),s=G(e,"modelValue"),i=b(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=b(()=>e.falseValue!==void 0?e.falseValue:!1),d=b(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),r=b({get(){const y=l?l.modelValue.value:s.value;return d.value?y.some(m=>e.valueComparator(m,i.value)):e.valueComparator(y,i.value)},set(y){if(e.readonly)return;const m=y?i.value:o.value;let k=m;d.value&&(k=y?[...ve(s.value),m]:ve(s.value).filter(P=>!e.valueComparator(P,i.value))),l?l.modelValue.value=k:s.value=k}}),{textColorClasses:n,textColorStyles:v}=We(b(()=>r.value&&!e.error&&!e.disabled?e.color:void 0)),c=b(()=>r.value?e.trueIcon:e.falseIcon);return{group:l,densityClasses:t,trueValue:i,falseValue:o,model:r,textColorClasses:n,textColorStyles:v,icon:c}}const Mt=ae()({name:"VSelectionControl",directives:{Ripple:Bt},inheritAttrs:!1,props:tt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:s}=l;const{group:i,densityClasses:o,icon:d,model:r,textColorClasses:n,textColorStyles:v,trueValue:c}=Rt(e),y=Pe(),m=b(()=>e.id||`input-${y}`),k=I(!1),P=I(!1),F=I();i==null||i.onForceUpdate(()=>{F.value&&(F.value.checked=r.value)});function D(S){k.value=!0,(!Le||Le&&S.target.matches(":focus-visible"))&&(P.value=!0)}function _(){k.value=!1,P.value=!1}function w(S){e.readonly&&i&&xe(()=>i.forceUpdate()),r.value=S.target.checked}return ne(()=>{var T,U;const S=s.label?s.label({label:e.label,props:{for:m.value}}):e.label,[J,ie]=mt(t);return a("div",L({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":P.value,"v-selection-control--inline":e.inline},o.value,e.class]},J,{style:e.style}),[a("div",{class:["v-selection-control__wrapper",n.value],style:v.value},[(T=s.default)==null?void 0:T.call(s),ht(a("div",{class:["v-selection-control__input"]},[d.value&&a(It,{key:"icon",icon:d.value},null),a("input",L({ref:F,checked:r.value,disabled:e.disabled,id:m.value,onBlur:_,onFocus:D,onInput:w,"aria-disabled":e.readonly,type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},ie),null),(U=s.input)==null?void 0:U.call(s,{model:r,textColorClasses:n,textColorStyles:v,props:{onFocus:D,onBlur:_,id:m.value}})]),[[gt("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&a(ut,{for:m.value,clickable:!0},{default:()=>[S]})])}),{isFocused:k,input:F}}}),Ut=he({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...tt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),lt=ae()({name:"VCheckboxBtn",props:Ut(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const s=G(e,"indeterminate"),i=G(e,"modelValue");function o(n){s.value&&(s.value=!1)}const d=b(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),r=b(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return ne(()=>a(Mt,L(e,{modelValue:i.value,"onUpdate:modelValue":[n=>i.value=n,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",inline:!0,falseIcon:d.value,trueIcon:r.value,"aria-checked":e.indeterminate?"mixed":void 0}),t)),{}}});const at=ae()({name:"VMenu",props:{id:String,...Ae(_t({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Xe}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const s=G(e,"modelValue"),{scopeId:i}=xt(),o=Pe(),d=b(()=>e.id||`v-menu-${o}`),r=I(),n=ze(Me,null),v=I(0);Ne(Me,{register(){++v.value},unregister(){--v.value},closeParents(){setTimeout(()=>{v.value||(s.value=!1,n==null||n.closeParents())},40)}}),pe(s,m=>{m?n==null||n.register():n==null||n.unregister()});function c(){n==null||n.closeParents()}const y=b(()=>L({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":d.value},e.activatorProps));return ne(()=>{const[m]=we.filterProps(e);return a(we,L({ref:r,class:["v-menu",e.class],style:e.style},m,{modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,absolute:!0,activatorProps:y.value,"onClick:outside":c},i),{activator:t.activator,default:function(){for(var k=arguments.length,P=new Array(k),F=0;F<k;F++)P[F]=arguments[F];return a(Oe,{root:!0},{default:()=>{var D;return[(D=t.default)==null?void 0:D.call(t,...P)]}})}})}),De({id:d,ΨopenChildren:v},r)}}),nt=he({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:je},...pt({itemChildren:!1})},"v-select"),Ue=ae()({name:"VSelect",props:{...nt(),...Ae(Ee({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ye({transition:{component:Xe}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=He(),i=I(),o=I(),d=G(e,"menu"),r=b({get:()=>d.value,set:f=>{var C;d.value&&!f&&((C=o.value)!=null&&C.ΨopenChildren)||(d.value=f)}}),{items:n,transformIn:v,transformOut:c}=$e(e),y=G(e,"modelValue",[],f=>v(ve(f)),f=>{const C=c(f);return e.multiple?C:C[0]??null}),m=Ke(),k=b(()=>y.value.map(f=>n.value.find(C=>e.valueComparator(C.value,f.value))||f)),P=b(()=>k.value.map(f=>f.props.value)),F=I(!1);let D="",_;const w=b(()=>e.hideSelected?n.value.filter(f=>!k.value.some(C=>C===f)):n.value),S=I();function J(f){e.openOnClear&&(r.value=!0)}function ie(){e.hideNoData&&!n.value.length||e.readonly||m!=null&&m.isReadonly.value||(r.value=!r.value)}function T(f){var V,K,R,A;if(e.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(f.key)&&f.preventDefault(),["Enter","ArrowDown"," "].includes(f.key)&&(r.value=!0),["Escape","Tab"].includes(f.key)&&(r.value=!1),f.key==="ArrowDown"?(V=S.value)==null||V.focus("next"):f.key==="ArrowUp"?(K=S.value)==null||K.focus("prev"):f.key==="Home"?(R=S.value)==null||R.focus("first"):f.key==="End"&&((A=S.value)==null||A.focus("last"));const C=1e3;function E(u){const g=u.key.length===1,O=!u.ctrlKey&&!u.metaKey&&!u.altKey;return g&&O}if(e.multiple||!E(f))return;const Z=performance.now();Z-_>C&&(D=""),D+=f.key.toLowerCase(),_=Z;const q=n.value.find(u=>u.title.toLowerCase().startsWith(D));q!==void 0&&(y.value=[q])}function U(f){if(e.multiple){const C=P.value.findIndex(E=>e.valueComparator(E,f.value));if(C===-1)y.value=[...y.value,f];else{const E=[...y.value];E.splice(C,1),y.value=E}}else y.value=[f],r.value=!1}function ue(f){var C;(C=S.value)!=null&&C.$el.contains(f.relatedTarget)||(r.value=!1)}function ge(f){F.value=!0}function se(f){var C;f.relatedTarget==null&&((C=i.value)==null||C.focus())}return ne(()=>{const f=!!(e.chips||t.chip),C=!!(!e.hideNoData||w.value.length||t.prepend||t.append||t["no-data"]),E=y.value.length>0,[Z]=fe.filterProps(e),q=E||!F.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(fe,L({ref:i},Z,{modelValue:y.value.map(V=>V.props.value).join(", "),"onUpdate:modelValue":V=>{V==null&&(y.value=[])},focused:F.value,"onUpdate:focused":V=>F.value=V,validationValue:y.externalValue,dirty:E,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":y.value.length},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:!0,placeholder:q,"onClick:clear":J,"onMousedown:control":ie,onBlur:ue,onKeydown:T}),{...t,default:()=>a(te,null,[a(at,L({ref:o,modelValue:r.value,"onUpdate:modelValue":V=>r.value=V,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[C&&a(Ge,{ref:S,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:V=>V.preventDefault(),onFocusin:ge,onFocusout:se},{default:()=>{var V,K,R;return[!w.value.length&&!e.hideNoData&&(((V=t["no-data"])==null?void 0:V.call(t))??a(le,{title:s(e.noDataText)},null)),(K=t["prepend-item"])==null?void 0:K.call(t),w.value.map((A,u)=>{var g;return t.item?(g=t.item)==null?void 0:g.call(t,{item:A,index:u,props:L(A.props,{onClick:()=>U(A)})}):a(le,L({key:u},A.props,{onClick:()=>U(A)}),{prepend:O=>{let{isSelected:ee}=O;return e.multiple&&!e.hideSelected?a(lt,{modelValue:ee,ripple:!1,tabindex:"-1"},null):void 0}})}),(R=t["append-item"])==null?void 0:R.call(t)]}})]}),k.value.map((V,K)=>{var u;function R(g){g.stopPropagation(),g.preventDefault(),U(V)}const A={"onClick:close":R,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:V.value,class:"v-select__selection"},[f?t.chip?a(Oe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:V.title}}},{default:()=>{var g;return[(g=t.chip)==null?void 0:g.call(t,{item:V,index:K,props:A})]}}):a(me,L({key:"chip",closable:e.closableChips,size:"small",text:V.title},A),null):((u=t.selection)==null?void 0:u.call(t,{item:V,index:K}))??a("span",{class:"v-select__selection-text"},[V.title,e.multiple&&K<k.value.length-1&&a("span",{class:"v-select__selection-comma"},[M(",")])])])})])})}),De({isFocused:F,menu:r,select:U},i)}}),Et=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Kt=he({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function jt(e,l,t){var r;const s=[],i=(t==null?void 0:t.default)??Et,o=t!=null&&t.filterKeys?ve(t.filterKeys):!1,d=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return s;e:for(let n=0;n<e.length;n++){const v=e[n],c={},y={};let m=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof v=="object"){const F=o||Object.keys(v);for(const D of F){const _=kt(v,D,v),w=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[D];if(m=w?w(_,l,v):i(_,l,v),m!==-1&&m!==!1)w?c[D]=m:y[D]=m;else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=i(v,l,v),m!==-1&&m!==!1&&(y.title=m);const k=Object.keys(y).length,P=Object.keys(c).length;if(!k&&!P||(t==null?void 0:t.filterMode)==="union"&&P!==d&&!k||(t==null?void 0:t.filterMode)==="intersection"&&(P!==d||!k))continue}s.push({index:n,matches:{...y,...c}})}return s}function Nt(e,l,t,s){const i=b(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),o=I([]),d=I(new Map);yt(()=>{o.value=[],d.value=new Map;const n=Te(l);jt(n,i.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:Te(s==null?void 0:s.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(c=>{let{index:y,matches:m}=c;const k=n[y];o.value.push(k),d.value.set(k.value,m)})});function r(n){return d.value.get(n.value)}return{filteredItems:o,filteredMatches:d,getMatches:r}}function zt(e,l,t){if(l==null)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return typeof l=="number"&&~l?a(te,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),a("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const Ht=ae()({name:"VAutocomplete",props:{search:String,...Kt({filterKeys:["title"]}),...nt(),...Ae(Ee({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ye({transition:!1})},emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=He(),i=I(),o=I(!1),d=I(!0),r=I(),n=G(e,"menu"),v=b({get:()=>n.value,set:u=>{var g;n.value&&!u&&((g=r.value)!=null&&g.ΨopenChildren)||(n.value=u)}}),c=I(-1),y=b(()=>{var u;return(u=i.value)==null?void 0:u.color}),{items:m,transformIn:k,transformOut:P}=$e(e),{textColorClasses:F,textColorStyles:D}=We(y),_=G(e,"search",""),w=G(e,"modelValue",[],u=>k(ve(u)),u=>{const g=P(u);return e.multiple?g:g[0]??null}),S=Ke(),{filteredItems:J,getMatches:ie}=Nt(e,m,b(()=>d.value?void 0:_.value)),T=b(()=>w.value.map(u=>m.value.find(g=>e.valueComparator(g.value,u.value))||u)),U=b(()=>e.hideSelected?J.value.filter(u=>!T.value.some(g=>g.value===u.value)):J.value),ue=b(()=>T.value.map(u=>u.props.value)),ge=b(()=>T.value[c.value]),se=I();function f(u){e.openOnClear&&(v.value=!0),_.value=""}function C(){e.hideNoData&&!m.value.length||e.readonly||S!=null&&S.isReadonly.value||(v.value=!0)}function E(u){var ee,x,j,X;if(e.readonly||S!=null&&S.isReadonly.value)return;const g=i.value.selectionStart,O=ue.value.length;if((c.value>-1||["Enter","ArrowDown","ArrowUp"].includes(u.key))&&u.preventDefault(),["Enter","ArrowDown"].includes(u.key)&&(v.value=!0),["Escape"].includes(u.key)&&(v.value=!1),["Enter","Escape","Tab"].includes(u.key)&&(d.value=!0),u.key==="ArrowDown"?(ee=se.value)==null||ee.focus("next"):u.key==="ArrowUp"&&((x=se.value)==null||x.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(u.key)){if(c.value<0){u.key==="Backspace"&&!_.value&&(c.value=O-1);return}const p=c.value;ge.value&&A(ge.value),c.value=p>=O-1?O-2:p}if(u.key==="ArrowLeft"){if(c.value<0&&g>0)return;const p=c.value>-1?c.value-1:O-1;T.value[p]?c.value=p:(c.value=-1,i.value.setSelectionRange((j=_.value)==null?void 0:j.length,(X=_.value)==null?void 0:X.length))}if(u.key==="ArrowRight"){if(c.value<0)return;const p=c.value+1;T.value[p]?c.value=p:(c.value=-1,i.value.setSelectionRange(0,0))}}}function Z(u){_.value=u.target.value}function q(){o.value&&(d.value=!0)}function V(u){o.value=!0}function K(u){var g;u.relatedTarget==null&&((g=i.value)==null||g.focus())}const R=I(!1);function A(u){if(e.multiple){const g=ue.value.findIndex(O=>e.valueComparator(O,u.value));if(g===-1)w.value=[...w.value,u];else{const O=[...w.value];O.splice(g,1),w.value=O}}else w.value=[u],R.value=!0,t.selection||(_.value=u.title),v.value=!1,d.value=!0,xe(()=>R.value=!1)}return pe(o,u=>{var g;u?(R.value=!0,_.value=e.multiple||t.selection?"":String(((g=T.value.at(-1))==null?void 0:g.props.title)??""),d.value=!0,xe(()=>R.value=!1)):(v.value=!1,_.value="")}),pe(_,u=>{!o.value||R.value||(u&&(v.value=!0),d.value=!u)}),ne(()=>{const u=!!(e.chips||t.chip),g=!!(!e.hideNoData||U.value.length||t.prepend||t.append||t["no-data"]),O=w.value.length>0,[ee]=fe.filterProps(e);return a(fe,L({ref:i},ee,{modelValue:_.value,"onUpdate:modelValue":x=>{x==null&&(w.value=[])},focused:o.value,"onUpdate:focused":x=>o.value=x,validationValue:w.externalValue,dirty:O,onInput:Z,class:["v-autocomplete",{"v-autocomplete--active-menu":v.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selecting-index":c.value>-1,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:e.readonly,placeholder:O?void 0:e.placeholder,"onClick:clear":f,"onMousedown:control":C,onKeydown:E}),{...t,default:()=>a(te,null,[a(at,L({ref:r,modelValue:v.value,"onUpdate:modelValue":x=>v.value=x,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:q},e.menuProps),{default:()=>[g&&a(Ge,{ref:se,selected:ue.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onFocusin:V,onFocusout:K},{default:()=>{var x,j,X;return[!U.value.length&&!e.hideNoData&&(((x=t["no-data"])==null?void 0:x.call(t))??a(le,{title:s(e.noDataText)},null)),(j=t["prepend-item"])==null?void 0:j.call(t),U.value.map(p=>{var oe;return((oe=t.item)==null?void 0:oe.call(t,{item:p,props:L(p.props,{onClick:()=>A(p)})}))??a(le,L({key:p.value},p.props,{onClick:()=>A(p)}),{prepend:$=>{let{isSelected:ye}=$;return e.multiple&&!e.hideSelected?a(lt,{modelValue:ye,ripple:!1,tabindex:"-1"},null):void 0},title:()=>{var $,ye;return d.value?p.title:zt(p.title,($=ie(p))==null?void 0:$.title,((ye=_.value)==null?void 0:ye.length)??0)}})}),(X=t["append-item"])==null?void 0:X.call(t)]}})]}),T.value.map((x,j)=>{var oe;function X($){$.stopPropagation(),$.preventDefault(),A(x)}const p={"onClick:close":X,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:x.value,class:["v-autocomplete__selection",j===c.value&&["v-autocomplete__selection--selected",F.value]],style:j===c.value?D.value:{}},[u?t.chip?a(Oe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>{var $;return[($=t.chip)==null?void 0:$.call(t,{item:x,index:j,props:p})]}}):a(me,L({key:"chip",closable:e.closableChips,size:"small",text:x.title},p),null):((oe=t.selection)==null?void 0:oe.call(t,{item:x,index:j}))??a("span",{class:"v-autocomplete__selection-text"},[x.title,e.multiple&&j<T.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[M(",")])])])})])})}),De({isFocused:o,isPristine:d,menu:v,search:_,filteredItems:J,select:A},i)}}),$t={components:{StatusChip:Ze},props:{defaultStatuses:{type:Array,default:ke.map(e=>e.value)}},data(){return{loading:!1,textFilter:"",statuses:ke,activeStatuses:null,statusFilter:[],registers:[],registerFilter:[],expanded:!1,noAnimate:!0,tags:null,tagFilter:[]}},mounted(){this.loading=!0,Se.config.showImported&&de.getRegisters(!0).then(e=>{Object.keys(e).length>1?(this.registers=Object.values(e).filter(de.isShown).sort((l,t)=>l.local!==t.local?l.local?-1:1:l.name.localeCompare(t.name)).map(l=>({name:l.name,url:l.url,color:l.color})),this.registerFilter=this.registers.map(l=>l.url)):(this.registers=[],this.registerFilter=null)}),de.getBBlocks(Se.config.showImported).then(e=>{const l=new Set,t={};Object.values(e).forEach(s=>{var i;l.add(s.status),(i=s.tags)==null||i.forEach(o=>{o=o.trim().toLowerCase(),t[o]=t[o]?t[o]+1:1})}),this.tags=Object.keys(t).sort(),this.activeStatuses=ke.filter(s=>l.has(s.value)),this.defaultStatuses&&(this.statusFilter=this.defaultStatuses.filter(s=>l.has(s)))}).finally(()=>this.loading=!1),this.expanded=this.$vuetify.display.mdAndUp?"expanded":null,setTimeout(()=>this.noAnimate=!1,350),this.debouncedTextFilter=bt(e=>{this.emitFilter()},300),this.emitFilter()},methods:{selectAllStatuses(){this.statusFilter=ke.map(e=>e.value)},selectOnlyStable(){this.statusFilter=["stable"]},selectRegisters(e){e?this.registerFilter=this.registers.map(l=>l.url):this.registerFilter.length=0},reset(){this.textFilter="",this.statusFilter=this.defaultStatuses.slice(),this.selectRegisters(!0)},emitFilter(){this.$emit("filter-change",{text:this.textFilter,registers:this.registers.length?this.registerFilter:null,status:this.statusFilter,tags:this.tagFilter})}},watch:{registerFilter(){this.emitFilter()},statusFilter(){this.emitFilter()},textFilter(e){this.debouncedTextFilter(e)},tagFilter(){this.emitFilter()},defaultStatuses(){this.statusFilter=this.defaultStatuses.slice()}}},Gt={class:"flex-grow-1 mx-2 filter-text mb-1"},Qt={key:0,class:"mx-2 filter-status mb-1"},Wt={key:1,class:"mx-2 filter-registers mb-1"},Yt={key:2,class:"mx-2 filter-tags mb-1"},Jt={class:"mx-2 d-flex align-center filter-reset"};function Xt(e,l,t,s,i,o){const d=Ce("status-chip");return B(),z(rt,{modelValue:i.expanded,"onUpdate:modelValue":l[6]||(l[6]=r=>i.expanded=r),class:Re({"no-animate":i.noAnimate})},{default:h(()=>[a(ot,{title:"Filters",value:"expanded",eager:""},{default:h(()=>[a(st,null,{default:h(()=>{var r;return[H("div",{class:Re(["d-flex flex-wrap filter-wrapper justify-end",e.$vuetify.display.mdAndUp?"size-md":""])},[H("div",Gt,[a(fe,{label:"Name or identifier",modelValue:i.textFilter,"onUpdate:modelValue":l[0]||(l[0]=n=>i.textFilter=n),"hide-details":"auto",clearable:""},null,8,["modelValue"])]),i.activeStatuses?(B(),Y("div",Qt,[a(Ue,{label:"Status","item-title":"label",items:i.activeStatuses,multiple:"",modelValue:i.statusFilter,"onUpdate:modelValue":l[1]||(l[1]=n=>i.statusFilter=n),"hide-details":"auto"},{"prepend-item":h(()=>[a(le,{class:"all-none"},{default:h(()=>[a(re,{variant:"text",onClick:o.selectAllStatuses},{default:h(()=>[M("All")]),_:1},8,["onClick"]),a(re,{variant:"text",onClick:o.selectOnlyStable},{default:h(()=>[M("Only stable")]),_:1},8,["onClick"])]),_:1})]),selection:h(({item:n})=>[a(d,{status:n.value,class:"mb-1"},null,8,["status"])]),_:1},8,["items","modelValue"])])):W("",!0),i.registers.length>1?(B(),Y("div",Wt,[a(Ue,{label:"Registers",items:i.registers,multiple:"",modelValue:i.registerFilter,"onUpdate:modelValue":l[4]||(l[4]=n=>i.registerFilter=n),"item-title":"name","item-value":"url","hide-details":"auto"},{"prepend-item":h(()=>[a(le,{class:"all-none"},{default:h(()=>[a(re,{variant:"text",onClick:l[2]||(l[2]=n=>o.selectRegisters(!0))},{default:h(()=>[M("All")]),_:1}),a(re,{variant:"text",onClick:l[3]||(l[3]=n=>o.selectRegisters(!1))},{default:h(()=>[M("None")]),_:1})]),_:1})]),selection:h(({item:n})=>[n.raw?(B(),z(me,{key:0,size:"small",variant:"flat",color:n.raw.color,class:"mb-1"},{default:h(()=>[M(Q(n.title),1)]),_:2},1032,["color"])):W("",!0)]),_:1},8,["items","modelValue"])])):W("",!0),(r=i.tags)!=null&&r.length?(B(),Y("div",Yt,[a(Ht,{label:"Tags",items:i.tags,multiple:"",modelValue:i.tagFilter,"onUpdate:modelValue":l[5]||(l[5]=n=>i.tagFilter=n),"hide-details":"auto",clearable:""},null,8,["items","modelValue"])])):W("",!0),a(Be),H("div",Jt,[a(Be),a(re,{onClick:o.reset,block:e.$vuetify.display.smAndDown},{default:h(()=>[M("Reset")]),_:1},8,["onClick","block"])])],2)]}),_:1})]),_:1})]),_:1},8,["modelValue","class"])}const Zt=_e($t,[["render",Xt]]),qt={components:{StatusChip:Ze},props:{bblock:{type:Object,required:!0}},methods:{trim(e,l,t="…"){return!e||e.length<=l?e:`${e.substr(0,l-1)}${t}`}}},el={class:"abstract"},tl={class:"bblock-bottom mb-2 ml-2"},ll={key:0,class:"tags mb-2 ml-2"},al=H("span",{class:"tags-title mr-1 mb-1 text-caption"},"Tags:",-1),nl=["textContent"];function il(e,l,t,s,i,o){const d=Ce("status-chip");return B(),z(Je,{class:"fill-height d-flex flex-column building-block"},{default:h(()=>{var r;return[a(Ie,{class:"d-flex pb-0 bblock-name"},{default:h(()=>[H("div",null,[M(Q(t.bblock.name)+" ",1),H("small",null,"v"+Q(t.bblock.version),1)]),a(Be),a(d,{status:t.bblock.status},null,8,["status"])]),_:1}),a(At,{class:"text-caption"},{default:h(()=>[H("code",null,Q(t.bblock.itemIdentifier),1)]),_:1}),a(Dt,null,{default:h(()=>[H("div",el,Q(o.trim(t.bblock.abstract,200)),1)]),_:1}),H("div",tl,[(r=t.bblock.tags)!=null&&r.length?(B(),Y("div",ll,[al,(B(!0),Y(te,null,Fe(t.bblock.tags,n=>(B(),Y("span",{class:"tag mr-1 mb-1 text-caption",textContent:Q(n)},null,8,nl))),256))])):W("",!0),H("div",null,[a(me,{variant:"flat",color:t.bblock.register.color,title:t.bblock.register.url},{default:h(()=>[M(Q(t.bblock.register.name),1)]),_:1},8,["color","title"])])])]}),_:1})}const ul=_e(qt,[["render",il]]);const sl={components:{BuildingBlockListItem:ul,BuildingBlockFilters:Zt,RegisterLoadingProgress:Ct,BuildingBlock:ct},data(){return{loading:!1,buildingBlocks:null,bblockDialog:!1,bblockView:null,registerProgress:{completed:0,total:0},showRegisterLoadingProgress:!1,filterValues:null}},mounted(){this.loading=!0,de.getBBlocks(Se.config.showImported).then(e=>{this.buildingBlocks=Object.values(e).filter(de.isShown).sort((l,t)=>{const s=l.itemIdentifier.toLowerCase(),i=t.itemIdentifier.toLowerCase();return s<i?-1:s>i?1:0})}).finally(()=>{this.loading=!1})},methods:{interceptLinks:Vt,openUrl(e){window.open(e)},isVisible(e){var l,t;if(this.filterValues.text){const s=this.filterValues.text.trim().toLowerCase();if(e.itemIdentifier.toLowerCase().indexOf(s)<0&&e.name.toLowerCase().indexOf(s)<0)return!1}return!(!this.filterValues.status.includes(e.status)||this.filterValues.registers!==null&&!this.filterValues.registers.includes(e.register.url)||(l=this.filterValues.tags)!=null&&l.length&&!((t=e.tags)!=null&&t.some(s=>this.filterValues.tags.includes(s))))}},computed:{filteredBuildingBlocks(){if(!this.filterValues||!this.buildingBlocks)return[];const e=[],l=[];return this.buildingBlocks.forEach(t=>{this.isVisible(t)&&(t.highlighted?e:l).push(t)}),{highlighted:e,nonHighlighted:l}}}},ol=H("h2",null,"Highlighted Building Blocks",-1);function rl(e,l,t,s,i,o){const d=Ce("building-block-filters"),r=Ce("building-block-list-item");return B(),z(Ot,{class:"bblock-list"},{default:h(()=>{var n,v;return[a(be,null,{default:h(()=>[a(ce,null,{default:h(()=>[a(d,{onFilterChange:l[0]||(l[0]=c=>this.filterValues=c)})]),_:1})]),_:1}),(v=(n=o.filteredBuildingBlocks)==null?void 0:n.highlighted)!=null&&v.length?(B(),z(be,{key:0,align:"stretch"},{default:h(()=>[a(ce,{cols:"12"},{default:h(()=>[ol]),_:1}),(B(!0),Y(te,null,Fe(o.filteredBuildingBlocks.highlighted,c=>(B(),z(ce,{key:c.itemIdentifier,md:"6"},{default:h(()=>[a(r,{bblock:c,to:{name:"BuildingBlock",params:{id:c.itemIdentifier}},class:"highlighted-bblock"},null,8,["bblock","to"])]),_:2},1024))),128)),a(St)]),_:1})):W("",!0),a(be,{align:"stretch"},{default:h(()=>[(B(!0),Y(te,null,Fe(o.filteredBuildingBlocks.nonHighlighted,c=>(B(),z(ce,{key:c.itemIdentifier,md:"6"},{default:h(()=>[a(r,{bblock:c,to:{name:"BuildingBlock",params:{id:c.itemIdentifier}}},null,8,["bblock","to"])]),_:2},1024))),128))]),_:1}),i.buildingBlocks&&!o.filteredBuildingBlocks.nonHighlighted.length&&!o.filteredBuildingBlocks.highlighted.length?(B(),z(be,{key:1},{default:h(()=>[a(ce,null,{default:h(()=>[a(Je,null,{default:h(()=>[i.buildingBlocks.length?(B(),z(Ie,{key:0},{default:h(()=>[M("No building blocks match the current filters")]),_:1})):(B(),z(Ie,{key:1},{default:h(()=>[M("No building blocks were found in the register.")]),_:1}))]),_:1})]),_:1})]),_:1})):W("",!0),a(we,{"model-value":i.loading,class:"align-center justify-center"},{default:h(()=>[a(Ft,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"])]}),_:1})}const bl=_e(sl,[["render",rl]]);export{bl as default};
