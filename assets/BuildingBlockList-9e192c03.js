import{s as et,V as fe,a as tt,m as Le,u as Oe,b as ce,c as Re,d as ke,e as lt,f as at,g as nt,B as it}from"./BuildingBlock-328a1d4d.js";import{_ as Ce,J as w,M as z,L as v,W as T,P as Q,O as W,p as ve,I as Ve,X as Te,n as ut,l as me,x as $,d as Ue,c as V,e as st,Y as ot,s as rt,t as N,m as a,r as A,Z as ct,$ as dt,a0 as ft,y as U,i as vt,a1 as de,a2 as Be,B as xe,a3 as Me,a4 as Ee,F as te,a5 as mt,a6 as Ie,a7 as ht,w as Ae,E as pe,G as re,a8 as gt,H as _e,S as H,K as Y,a9 as Pe,Q as Fe,V as yt}from"./index-a76e1bdc.js";import{R as kt}from"./RegisterLoadingProgress-cb1a8d54.js";import{m as bt,h as Ke,c as je,d as le,i as Ne,b as se,g as Se,j as Vt,e as _t,f as Ct}from"./VList-a5978676.js";import{r as xt,m as ze,u as he,R as pt,q as Ft,s as St,v as He,w as Ge,i as $e,x as we,p as wt,k as Bt,l as Qe,n as It}from"./VContainer-64a6b5b1.js";import{V as At}from"./VDialog-8341e6d9.js";import{a as oe,V as be}from"./VRow-1c5a647e.js";import"./_commonjsHelpers-725317a4.js";import"./VTooltip-e9eae014.js";const Pt={props:{status:String,variant:{type:String,default:"flat"},size:{type:String,default:"small"}},computed:{color(){return et[this.status]||null},label(){return this.status.charAt(0).toUpperCase()+this.status.substring(1).replaceAll("-"," ")}}};function Dt(e,l,t,s,n,o){return t.status?(w(),z(fe,{key:0,variant:t.variant,color:o.color,size:t.size},{default:v(()=>[T(Q(o.label),1)]),_:1},8,["variant","color","size"])):W("",!0)}const We=Ce(Pt,[["render",Dt]]);const Ye=Symbol.for("vuetify:selection-control-group"),Je=ve({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:Ve,trueIcon:Ve,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Te},...ut(),...xt()},"v-selection-control-group");me()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...ze(),...Je()},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const s=$(e,"modelValue"),n=Ue(),o=V(()=>e.id||`v-selection-control-group-${n}`),f=V(()=>e.name||o.value),r=new Set;return st(Ye,{modelValue:s,forceUpdate:()=>{r.forEach(u=>u())},onForceUpdate:u=>{r.add(u),ot(()=>{r.delete(u)})}}),rt({[e.defaultsTarget]:{color:N(e,"color"),disabled:N(e,"disabled"),density:N(e,"density"),error:N(e,"error"),inline:N(e,"inline"),modelValue:s,multiple:V(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),name:f,falseIcon:N(e,"falseIcon"),trueIcon:N(e,"trueIcon"),readonly:N(e,"readonly"),ripple:N(e,"ripple"),type:N(e,"type"),valueComparator:N(e,"valueComparator")}}),he(()=>{var u;return a("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(u=t.default)==null?void 0:u.call(t)])}),{}}});const Xe=ve({label:String,trueValue:null,falseValue:null,value:null,...ze(),...Je()},"v-selection-control");function Lt(e){const l=vt(Ye,void 0),{densityClasses:t}=St(e),s=$(e,"modelValue"),n=V(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=V(()=>e.falseValue!==void 0?e.falseValue:!1),f=V(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),r=V({get(){const y=l?l.modelValue.value:s.value;return f.value?y.some(h=>e.valueComparator(h,n.value)):e.valueComparator(y,n.value)},set(y){if(e.readonly)return;const h=y?n.value:o.value;let _=h;f.value&&(_=y?[...de(s.value),h]:de(s.value).filter(P=>!e.valueComparator(P,n.value))),l?l.modelValue.value=_:s.value=_}}),{textColorClasses:u,textColorStyles:g}=He(V(()=>r.value&&!e.error&&!e.disabled?e.color:void 0)),c=V(()=>r.value?e.trueIcon:e.falseIcon);return{group:l,densityClasses:t,trueValue:n,falseValue:o,model:r,textColorClasses:u,textColorStyles:g,icon:c}}const Ot=me()({name:"VSelectionControl",directives:{Ripple:pt},inheritAttrs:!1,props:Xe(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:s}=l;const{group:n,densityClasses:o,icon:f,model:r,textColorClasses:u,textColorStyles:g,trueValue:c}=Lt(e),y=Ue(),h=V(()=>e.id||`input-${y}`),_=A(!1),P=A(!1),D=A();n==null||n.onForceUpdate(()=>{D.value&&(D.value.checked=r.value)});function L(F){_.value=!0,(!Be||Be&&F.target.matches(":focus-visible"))&&(P.value=!0)}function C(){_.value=!1,P.value=!1}function S(F){e.readonly&&n&&xe(()=>n.forceUpdate()),r.value=F.target.checked}return he(()=>{var O,M;const F=s.label?s.label({label:e.label,props:{for:h.value}}):e.label,[J,ae]=ct(t);return a("div",U({class:["v-selection-control",{"v-selection-control--dirty":r.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":_.value,"v-selection-control--focus-visible":P.value,"v-selection-control--inline":e.inline},o.value,e.class]},J,{style:e.style}),[a("div",{class:["v-selection-control__wrapper",u.value],style:g.value},[(O=s.default)==null?void 0:O.call(s),dt(a("div",{class:["v-selection-control__input"]},[f.value&&a(Ft,{key:"icon",icon:f.value},null),a("input",U({ref:D,checked:r.value,disabled:e.disabled,id:h.value,onBlur:C,onFocus:L,onInput:S,"aria-disabled":e.readonly,type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?r.value:void 0},ae),null),(M=s.input)==null?void 0:M.call(s,{model:r,textColorClasses:u,textColorStyles:g,props:{onFocus:L,onBlur:C,id:h.value}})]),[[ft("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),F&&a(tt,{for:h.value,clickable:!0},{default:()=>[F]})])}),{isFocused:_,input:D}}}),Rt=ve({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...Xe({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),Ze=me()({name:"VCheckboxBtn",props:Rt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const s=$(e,"indeterminate"),n=$(e,"modelValue");function o(u){s.value&&(s.value=!1)}const f=V(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),r=V(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return he(()=>a(Ot,U(e,{modelValue:n.value,"onUpdate:modelValue":[u=>n.value=u,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",inline:!0,falseIcon:f.value,trueIcon:r.value,"aria-checked":e.indeterminate?"mixed":void 0}),t)),{}}}),qe=ve({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Te},...bt({itemChildren:!1})},"v-select"),De=me()({name:"VSelect",props:{...qe(),...Me(Le({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ge({transition:{component:At}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=Ee(),n=A(),o=A(),f=$(e,"menu"),r=V({get:()=>f.value,set:d=>{var b;f.value&&!d&&((b=o.value)!=null&&b.Î¨openChildren)||(f.value=d)}}),{items:u,transformIn:g,transformOut:c}=Ke(e),y=$(e,"modelValue",[],d=>g(de(d)),d=>{const b=c(d);return e.multiple?b:b[0]??null}),h=Oe(),_=V(()=>y.value.map(d=>u.value.find(b=>e.valueComparator(b.value,d.value))||d)),P=V(()=>_.value.map(d=>d.props.value)),D=A(!1);let L="",C;const S=V(()=>e.hideSelected?u.value.filter(d=>!_.value.some(b=>b===d)):u.value),F=A();function J(d){e.openOnClear&&(r.value=!0)}function ae(){e.hideNoData&&!u.value.length||e.readonly||h!=null&&h.isReadonly.value||(r.value=!r.value)}function O(d){var k,K,R,B;if(e.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(d.key)&&d.preventDefault(),["Enter","ArrowDown"," "].includes(d.key)&&(r.value=!0),["Escape","Tab"].includes(d.key)&&(r.value=!1),d.key==="ArrowDown"?(k=F.value)==null||k.focus("next"):d.key==="ArrowUp"?(K=F.value)==null||K.focus("prev"):d.key==="Home"?(R=F.value)==null||R.focus("first"):d.key==="End"&&((B=F.value)==null||B.focus("last"));const b=1e3;function E(i){const m=i.key.length===1,I=!i.ctrlKey&&!i.metaKey&&!i.altKey;return m&&I}if(e.multiple||!E(d))return;const Z=performance.now();Z-C>b&&(L=""),L+=d.key.toLowerCase(),C=Z;const q=u.value.find(i=>i.title.toLowerCase().startsWith(L));q!==void 0&&(y.value=[q])}function M(d){if(e.multiple){const b=P.value.findIndex(E=>e.valueComparator(E,d.value));if(b===-1)y.value=[...y.value,d];else{const E=[...y.value];E.splice(b,1),y.value=E}}else y.value=[d],r.value=!1}function ne(d){var b;(b=F.value)!=null&&b.$el.contains(d.relatedTarget)||(r.value=!1)}function ge(d){D.value=!0}function ie(d){var b;d.relatedTarget==null&&((b=n.value)==null||b.focus())}return he(()=>{const d=!!(e.chips||t.chip),b=!!(!e.hideNoData||S.value.length||t.prepend||t.append||t["no-data"]),E=y.value.length>0,[Z]=ce.filterProps(e),q=E||!D.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(ce,U({ref:n},Z,{modelValue:y.value.map(k=>k.props.value).join(", "),"onUpdate:modelValue":k=>{k==null&&(y.value=[])},focused:D.value,"onUpdate:focused":k=>D.value=k,validationValue:y.externalValue,dirty:E,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":y.value.length},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:!0,placeholder:q,"onClick:clear":J,"onMousedown:control":ae,onBlur:ne,onKeydown:O}),{...t,default:()=>a(te,null,[a(Re,U({ref:o,modelValue:r.value,"onUpdate:modelValue":k=>r.value=k,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[b&&a(je,{ref:F,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onFocusin:ge,onFocusout:ie},{default:()=>{var k,K,R;return[!S.value.length&&!e.hideNoData&&(((k=t["no-data"])==null?void 0:k.call(t))??a(le,{title:s(e.noDataText)},null)),(K=t["prepend-item"])==null?void 0:K.call(t),S.value.map((B,i)=>{var m;return t.item?(m=t.item)==null?void 0:m.call(t,{item:B,index:i,props:U(B.props,{onClick:()=>M(B)})}):a(le,U({key:i},B.props,{onClick:()=>M(B)}),{prepend:I=>{let{isSelected:ee}=I;return e.multiple&&!e.hideSelected?a(Ze,{modelValue:ee,ripple:!1,tabindex:"-1"},null):void 0}})}),(R=t["append-item"])==null?void 0:R.call(t)]}})]}),_.value.map((k,K)=>{var i;function R(m){m.stopPropagation(),m.preventDefault(),M(k)}const B={"onClick:close":R,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:k.value,class:"v-select__selection"},[d?t.chip?a($e,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:k.title}}},{default:()=>{var m;return[(m=t.chip)==null?void 0:m.call(t,{item:k,index:K,props:B})]}}):a(fe,U({key:"chip",closable:e.closableChips,size:"small",text:k.title},B),null):((i=t.selection)==null?void 0:i.call(t,{item:k,index:K}))??a("span",{class:"v-select__selection-text"},[k.title,e.multiple&&K<_.value.length-1&&a("span",{class:"v-select__selection-comma"},[T(",")])])])})])})}),Ne({isFocused:D,menu:r,select:M},n)}}),Tt=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Ut=ve({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Mt(e,l,t){var r;const s=[],n=(t==null?void 0:t.default)??Tt,o=t!=null&&t.filterKeys?de(t.filterKeys):!1,f=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return s;e:for(let u=0;u<e.length;u++){const g=e[u],c={},y={};let h=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof g=="object"){const D=o||Object.keys(g);for(const L of D){const C=ht(g,L,g),S=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[L];if(h=S?S(C,l,g):n(C,l,g),h!==-1&&h!==!1)S?c[L]=h:y[L]=h;else if((t==null?void 0:t.filterMode)==="every")continue e}}else h=n(g,l,g),h!==-1&&h!==!1&&(y.title=h);const _=Object.keys(y).length,P=Object.keys(c).length;if(!_&&!P||(t==null?void 0:t.filterMode)==="union"&&P!==f&&!_||(t==null?void 0:t.filterMode)==="intersection"&&(P!==f||!_))continue}s.push({index:u,matches:{...y,...c}})}return s}function Et(e,l,t,s){const n=V(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),o=A([]),f=A(new Map);mt(()=>{o.value=[],f.value=new Map;const u=Ie(l);Mt(u,n.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:Ie(s==null?void 0:s.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(c=>{let{index:y,matches:h}=c;const _=u[y];o.value.push(_),f.value.set(_.value,h)})});function r(u){return f.value.get(u.value)}return{filteredItems:o,filteredMatches:f,getMatches:r}}function Kt(e,l,t){if(l==null)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return typeof l=="number"&&~l?a(te,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),a("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const jt=me()({name:"VAutocomplete",props:{search:String,...Ut({filterKeys:["title"]}),...qe(),...Me(Le({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ge({transition:!1})},emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=Ee(),n=A(),o=A(!1),f=A(!0),r=A(),u=$(e,"menu"),g=V({get:()=>u.value,set:i=>{var m;u.value&&!i&&((m=r.value)!=null&&m.Î¨openChildren)||(u.value=i)}}),c=A(-1),y=V(()=>{var i;return(i=n.value)==null?void 0:i.color}),{items:h,transformIn:_,transformOut:P}=Ke(e),{textColorClasses:D,textColorStyles:L}=He(y),C=$(e,"search",""),S=$(e,"modelValue",[],i=>_(de(i)),i=>{const m=P(i);return e.multiple?m:m[0]??null}),F=Oe(),{filteredItems:J,getMatches:ae}=Et(e,h,V(()=>f.value?void 0:C.value)),O=V(()=>S.value.map(i=>h.value.find(m=>e.valueComparator(m.value,i.value))||i)),M=V(()=>e.hideSelected?J.value.filter(i=>!O.value.some(m=>m.value===i.value)):J.value),ne=V(()=>O.value.map(i=>i.props.value)),ge=V(()=>O.value[c.value]),ie=A();function d(i){e.openOnClear&&(g.value=!0),C.value=""}function b(){e.hideNoData&&!h.value.length||e.readonly||F!=null&&F.isReadonly.value||(g.value=!0)}function E(i){var ee,x,j,X;if(e.readonly||F!=null&&F.isReadonly.value)return;const m=n.value.selectionStart,I=ne.value.length;if((c.value>-1||["Enter","ArrowDown","ArrowUp"].includes(i.key))&&i.preventDefault(),["Enter","ArrowDown"].includes(i.key)&&(g.value=!0),["Escape"].includes(i.key)&&(g.value=!1),["Enter","Escape","Tab"].includes(i.key)&&(f.value=!0),i.key==="ArrowDown"?(ee=ie.value)==null||ee.focus("next"):i.key==="ArrowUp"&&((x=ie.value)==null||x.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(i.key)){if(c.value<0){i.key==="Backspace"&&!C.value&&(c.value=I-1);return}const p=c.value;ge.value&&B(ge.value),c.value=p>=I-1?I-2:p}if(i.key==="ArrowLeft"){if(c.value<0&&m>0)return;const p=c.value>-1?c.value-1:I-1;O.value[p]?c.value=p:(c.value=-1,n.value.setSelectionRange((j=C.value)==null?void 0:j.length,(X=C.value)==null?void 0:X.length))}if(i.key==="ArrowRight"){if(c.value<0)return;const p=c.value+1;O.value[p]?c.value=p:(c.value=-1,n.value.setSelectionRange(0,0))}}}function Z(i){C.value=i.target.value}function q(){o.value&&(f.value=!0)}function k(i){o.value=!0}function K(i){var m;i.relatedTarget==null&&((m=n.value)==null||m.focus())}const R=A(!1);function B(i){if(e.multiple){const m=ne.value.findIndex(I=>e.valueComparator(I,i.value));if(m===-1)S.value=[...S.value,i];else{const I=[...S.value];I.splice(m,1),S.value=I}}else S.value=[i],R.value=!0,t.selection||(C.value=i.title),g.value=!1,f.value=!0,xe(()=>R.value=!1)}return Ae(o,i=>{var m;i?(R.value=!0,C.value=e.multiple||t.selection?"":String(((m=O.value.at(-1))==null?void 0:m.props.title)??""),f.value=!0,xe(()=>R.value=!1)):(g.value=!1,C.value="")}),Ae(C,i=>{!o.value||R.value||(i&&(g.value=!0),f.value=!i)}),he(()=>{const i=!!(e.chips||t.chip),m=!!(!e.hideNoData||M.value.length||t.prepend||t.append||t["no-data"]),I=S.value.length>0,[ee]=ce.filterProps(e);return a(ce,U({ref:n},ee,{modelValue:C.value,"onUpdate:modelValue":x=>{x==null&&(S.value=[])},focused:o.value,"onUpdate:focused":x=>o.value=x,validationValue:S.externalValue,dirty:I,onInput:Z,class:["v-autocomplete",{"v-autocomplete--active-menu":g.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selecting-index":c.value>-1,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:e.readonly,placeholder:I?void 0:e.placeholder,"onClick:clear":d,"onMousedown:control":b,onKeydown:E}),{...t,default:()=>a(te,null,[a(Re,U({ref:r,modelValue:g.value,"onUpdate:modelValue":x=>g.value=x,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:q},e.menuProps),{default:()=>[m&&a(je,{ref:ie,selected:ne.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onFocusin:k,onFocusout:K},{default:()=>{var x,j,X;return[!M.value.length&&!e.hideNoData&&(((x=t["no-data"])==null?void 0:x.call(t))??a(le,{title:s(e.noDataText)},null)),(j=t["prepend-item"])==null?void 0:j.call(t),M.value.map(p=>{var ue;return((ue=t.item)==null?void 0:ue.call(t,{item:p,props:U(p.props,{onClick:()=>B(p)})}))??a(le,U({key:p.value},p.props,{onClick:()=>B(p)}),{prepend:G=>{let{isSelected:ye}=G;return e.multiple&&!e.hideSelected?a(Ze,{modelValue:ye,ripple:!1,tabindex:"-1"},null):void 0},title:()=>{var G,ye;return f.value?p.title:Kt(p.title,(G=ae(p))==null?void 0:G.title,((ye=C.value)==null?void 0:ye.length)??0)}})}),(X=t["append-item"])==null?void 0:X.call(t)]}})]}),O.value.map((x,j)=>{var ue;function X(G){G.stopPropagation(),G.preventDefault(),B(x)}const p={"onClick:close":X,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:x.value,class:["v-autocomplete__selection",j===c.value&&["v-autocomplete__selection--selected",D.value]],style:j===c.value?L.value:{}},[i?t.chip?a($e,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>{var G;return[(G=t.chip)==null?void 0:G.call(t,{item:x,index:j,props:p})]}}):a(fe,U({key:"chip",closable:e.closableChips,size:"small",text:x.title},p),null):((ue=t.selection)==null?void 0:ue.call(t,{item:x,index:j}))??a("span",{class:"v-autocomplete__selection-text"},[x.title,e.multiple&&j<O.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[T(",")])])])})])})}),Ne({isFocused:o,isPristine:f,menu:g,search:C,filteredItems:J,select:B},n)}}),Nt={components:{StatusChip:We},props:{defaultStatuses:{type:Array,default:ke.map(e=>e.value)}},data(){return{loading:!1,textFilter:"",statuses:ke,activeStatuses:null,statusFilter:[],registers:[],registerFilter:[],expanded:!1,noAnimate:!0,tags:null,tagFilter:[]}},mounted(){this.loading=!0,pe.config.showImported&&re.getRegisters(!0).then(e=>{Object.keys(e).length>1?(this.registers=Object.values(e).filter(re.isShown).sort((l,t)=>l.local!==t.local?l.local?-1:1:l.name.localeCompare(t.name)).map(l=>({name:l.name,url:l.url,color:l.color})),this.registerFilter=this.registers.map(l=>l.url)):(this.registers=[],this.registerFilter=null)}),re.getBBlocks(pe.config.showImported).then(e=>{const l=new Set,t={};Object.values(e).forEach(s=>{var n;l.add(s.status),(n=s.tags)==null||n.forEach(o=>{o=o.trim().toLowerCase(),t[o]=t[o]?t[o]+1:1})}),this.tags=Object.keys(t).sort(),this.activeStatuses=ke.filter(s=>l.has(s.value)),this.defaultStatuses&&(this.statusFilter=this.defaultStatuses.filter(s=>l.has(s)))}).finally(()=>this.loading=!1),this.expanded=this.$vuetify.display.mdAndUp?"expanded":null,setTimeout(()=>this.noAnimate=!1,350),this.debouncedTextFilter=gt(e=>{this.emitFilter()},300),this.emitFilter()},methods:{selectAllStatuses(){this.statusFilter=ke.map(e=>e.value)},selectOnlyStable(){this.statusFilter=["stable"]},selectRegisters(e){e?this.registerFilter=this.registers.map(l=>l.url):this.registerFilter.length=0},reset(){this.textFilter="",this.statusFilter=this.defaultStatuses.slice(),this.selectRegisters(!0)},emitFilter(){this.$emit("filter-change",{text:this.textFilter,registers:this.registers.length?this.registerFilter:null,status:this.statusFilter,tags:this.tagFilter})}},watch:{registerFilter(){this.emitFilter()},statusFilter(){this.emitFilter()},textFilter(e){this.debouncedTextFilter(e)},tagFilter(){this.emitFilter()},defaultStatuses(){this.statusFilter=this.defaultStatuses.slice()}}},zt={class:"flex-grow-1 mx-2 filter-text mb-1"},Ht={key:0,class:"mx-2 filter-status mb-1"},Gt={key:1,class:"mx-2 filter-registers mb-1"},$t={key:2,class:"mx-2 filter-tags mb-1"},Qt={class:"mx-2 d-flex align-center filter-reset"};function Wt(e,l,t,s,n,o){const f=_e("status-chip");return w(),z(nt,{modelValue:n.expanded,"onUpdate:modelValue":l[6]||(l[6]=r=>n.expanded=r),class:Pe({"no-animate":n.noAnimate})},{default:v(()=>[a(at,{title:"Filters",value:"expanded",eager:""},{default:v(()=>[a(lt,null,{default:v(()=>{var r;return[H("div",{class:Pe(["d-flex flex-wrap filter-wrapper justify-end",e.$vuetify.display.mdAndUp?"size-md":""])},[H("div",zt,[a(ce,{label:"Name or identifier",modelValue:n.textFilter,"onUpdate:modelValue":l[0]||(l[0]=u=>n.textFilter=u),"hide-details":"auto",clearable:""},null,8,["modelValue"])]),n.activeStatuses?(w(),Y("div",Ht,[a(De,{label:"Status","item-title":"label",items:n.activeStatuses,multiple:"",modelValue:n.statusFilter,"onUpdate:modelValue":l[1]||(l[1]=u=>n.statusFilter=u),"hide-details":"auto"},{"prepend-item":v(()=>[a(le,{class:"all-none"},{default:v(()=>[a(se,{variant:"text",onClick:o.selectAllStatuses},{default:v(()=>[T("All")]),_:1},8,["onClick"]),a(se,{variant:"text",onClick:o.selectOnlyStable},{default:v(()=>[T("Only stable")]),_:1},8,["onClick"])]),_:1})]),selection:v(({item:u})=>[a(f,{status:u.value,class:"mb-1"},null,8,["status"])]),_:1},8,["items","modelValue"])])):W("",!0),n.registers.length>1?(w(),Y("div",Gt,[a(De,{label:"Registers",items:n.registers,multiple:"",modelValue:n.registerFilter,"onUpdate:modelValue":l[4]||(l[4]=u=>n.registerFilter=u),"item-title":"name","item-value":"url","hide-details":"auto"},{"prepend-item":v(()=>[a(le,{class:"all-none"},{default:v(()=>[a(se,{variant:"text",onClick:l[2]||(l[2]=u=>o.selectRegisters(!0))},{default:v(()=>[T("All")]),_:1}),a(se,{variant:"text",onClick:l[3]||(l[3]=u=>o.selectRegisters(!1))},{default:v(()=>[T("None")]),_:1})]),_:1})]),selection:v(({item:u})=>[u.raw?(w(),z(fe,{key:0,size:"small",variant:"flat",color:u.raw.color,class:"mb-1"},{default:v(()=>[T(Q(u.title),1)]),_:2},1032,["color"])):W("",!0)]),_:1},8,["items","modelValue"])])):W("",!0),(r=n.tags)!=null&&r.length?(w(),Y("div",$t,[a(jt,{label:"Tags",items:n.tags,multiple:"",modelValue:n.tagFilter,"onUpdate:modelValue":l[5]||(l[5]=u=>n.tagFilter=u),"hide-details":"auto",clearable:""},null,8,["items","modelValue"])])):W("",!0),a(Se),H("div",Qt,[a(Se),a(se,{onClick:o.reset,block:e.$vuetify.display.smAndDown},{default:v(()=>[T("Reset")]),_:1},8,["onClick","block"])])],2)]}),_:1})]),_:1})]),_:1},8,["modelValue","class"])}const Yt=Ce(Nt,[["render",Wt]]),Jt={components:{StatusChip:We},props:{bblock:{type:Object,required:!0}},methods:{trim(e,l,t="â¦"){return!e||e.length<=l?e:`${e.substr(0,l-1)}${t}`}}},Xt={class:"abstract"},Zt={class:"bblock-bottom mb-2 ml-2"},qt={key:0,class:"tags mb-2 ml-2"},el=H("span",{class:"tags-title mr-1 mb-1 text-caption"},"Tags:",-1),tl=["textContent"];function ll(e,l,t,s,n,o){const f=_e("status-chip");return w(),z(Qe,{class:"fill-height d-flex flex-column building-block"},{default:v(()=>{var r;return[a(we,{class:"d-flex pb-0 bblock-name"},{default:v(()=>[H("div",null,[T(Q(t.bblock.name)+" ",1),H("small",null,"v"+Q(t.bblock.version),1)]),a(Se),a(f,{status:t.bblock.status},null,8,["status"])]),_:1}),a(wt,{class:"text-caption"},{default:v(()=>[H("code",null,Q(t.bblock.itemIdentifier),1)]),_:1}),a(Bt,null,{default:v(()=>[H("div",Xt,Q(o.trim(t.bblock.abstract,200)),1)]),_:1}),H("div",Zt,[(r=t.bblock.tags)!=null&&r.length?(w(),Y("div",qt,[el,(w(!0),Y(te,null,Fe(t.bblock.tags,u=>(w(),Y("span",{class:"tag mr-1 mb-1 text-caption",textContent:Q(u)},null,8,tl))),256))])):W("",!0),H("div",null,[a(fe,{variant:"flat",color:t.bblock.register.color,title:t.bblock.register.url},{default:v(()=>[T(Q(t.bblock.register.name),1)]),_:1},8,["color","title"])])])]}),_:1})}const al=Ce(Jt,[["render",ll]]);const nl={components:{BuildingBlockListItem:al,BuildingBlockFilters:Yt,RegisterLoadingProgress:kt,BuildingBlock:it},data(){return{loading:!1,buildingBlocks:null,bblockDialog:!1,bblockView:null,registerProgress:{completed:0,total:0},showRegisterLoadingProgress:!1,filterValues:null}},mounted(){this.loading=!0,re.getBBlocks(pe.config.showImported).then(e=>{this.buildingBlocks=Object.values(e).filter(re.isShown).sort((l,t)=>{const s=l.itemIdentifier.toLowerCase(),n=t.itemIdentifier.toLowerCase();return s<n?-1:s>n?1:0})}).finally(()=>{this.loading=!1})},methods:{interceptLinks:yt,openUrl(e){window.open(e)},isVisible(e){var l,t;if(this.filterValues.text){const s=this.filterValues.text.trim().toLowerCase();if(e.itemIdentifier.toLowerCase().indexOf(s)<0&&e.name.toLowerCase().indexOf(s)<0)return!1}return!(!this.filterValues.status.includes(e.status)||this.filterValues.registers!==null&&!this.filterValues.registers.includes(e.register.url)||(l=this.filterValues.tags)!=null&&l.length&&!((t=e.tags)!=null&&t.some(s=>this.filterValues.tags.includes(s))))}},computed:{filteredBuildingBlocks(){if(!this.filterValues||!this.buildingBlocks)return[];const e=[],l=[];return this.buildingBlocks.forEach(t=>{this.isVisible(t)&&(t.highlighted?e:l).push(t)}),{highlighted:e,nonHighlighted:l}}}},il=H("h2",null,"Highlighted Building Blocks",-1);function ul(e,l,t,s,n,o){const f=_e("building-block-filters"),r=_e("building-block-list-item");return w(),z(It,{class:"bblock-list"},{default:v(()=>{var u,g;return[a(be,null,{default:v(()=>[a(oe,null,{default:v(()=>[a(f,{onFilterChange:l[0]||(l[0]=c=>this.filterValues=c)})]),_:1})]),_:1}),(g=(u=o.filteredBuildingBlocks)==null?void 0:u.highlighted)!=null&&g.length?(w(),z(be,{key:0,align:"stretch"},{default:v(()=>[a(oe,{cols:"12"},{default:v(()=>[il]),_:1}),(w(!0),Y(te,null,Fe(o.filteredBuildingBlocks.highlighted,c=>(w(),z(oe,{key:c.itemIdentifier,md:"6"},{default:v(()=>[a(r,{bblock:c,to:{name:"BuildingBlock",params:{id:c.itemIdentifier}},class:"highlighted-bblock"},null,8,["bblock","to"])]),_:2},1024))),128)),a(Vt)]),_:1})):W("",!0),a(be,{align:"stretch"},{default:v(()=>[(w(!0),Y(te,null,Fe(o.filteredBuildingBlocks.nonHighlighted,c=>(w(),z(oe,{key:c.itemIdentifier,md:"6"},{default:v(()=>[a(r,{bblock:c,to:{name:"BuildingBlock",params:{id:c.itemIdentifier}}},null,8,["bblock","to"])]),_:2},1024))),128))]),_:1}),n.buildingBlocks&&!o.filteredBuildingBlocks.nonHighlighted.length&&!o.filteredBuildingBlocks.highlighted.length?(w(),z(be,{key:1},{default:v(()=>[a(oe,null,{default:v(()=>[a(Qe,null,{default:v(()=>[n.buildingBlocks.length?(w(),z(we,{key:0},{default:v(()=>[T("No building blocks match the current filters")]),_:1})):(w(),z(we,{key:1},{default:v(()=>[T("No building blocks were found in the register.")]),_:1}))]),_:1})]),_:1})]),_:1})):W("",!0),a(Ct,{"model-value":n.loading,class:"align-center justify-center"},{default:v(()=>[a(_t,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"])]}),_:1})}const gl=Ce(nl,[["render",ul]]);export{gl as default};
