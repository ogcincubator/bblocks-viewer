import{_ as B,m as M,b as V,e as F}from"./index.js";import{j as _,l as I,o as f,I as U,y as z,J as A,U as R,z as D,C,D as $,M as q,a9 as H,$ as O,n as v,N as h,ah as E,k as j,a5 as G,w as b,aH as J,p as x,t as K,c as y,q as S,ai as Q}from"./vendor.js";import{x as W,y as X,t as Y,f as Z,z as ee,h as te,A as ae,B as oe,E as se,s as ne}from"./VContainer.js";import{v as ie,i as le,w as re,g as T,a as g}from"./VList.js";import{V as ce}from"./VTooltip.js";const ue={props:{width:{type:Number,default:22},height:{type:Number,default:22},color:{required:!0,type:String}}},de=["width","height"],me=["fill"];function ve(e,r,t,a,u,n){return f(),_("svg",{class:"color-circle",xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 30 30"},[I("circle",{r:"12",cx:"15",cy:"15",fill:t.color},null,8,me)],8,de)}const xe=B(ue,[["render",ve]]),fe=z({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...oe({location:"bottom"}),...ae(),...te(),...ee(),...O(),...H(re({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"v-snackbar"),ke=U()({name:"VSnackbar",props:fe(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t}=r;const a=A(e,"modelValue"),{locationStyles:u}=W(e),{positionClasses:n}=X(e),{scopeId:c}=ie(),{themeClasses:o}=R(e),{colorClasses:i,colorStyles:s,variantClasses:l}=Y(e),{roundedClasses:w}=Z(e),d=D();C(a,p),C(()=>e.timeout,p),$(()=>{a.value&&p()});let m=-1;function p(){window.clearTimeout(m);const k=Number(e.timeout);!a.value||k===-1||(m=window.setTimeout(()=>{a.value=!1},k))}function N(){window.clearTimeout(m)}return q(()=>{const[k]=T.filterProps(e);return v(T,h({ref:d,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},n.value,e.class],style:e.style},k,{modelValue:a.value,"onUpdate:modelValue":L=>a.value=L,contentProps:h({class:["v-snackbar__wrapper",o.value,i.value,w.value,l.value],style:[u.value,s.value],onPointerenter:N,onPointerleave:p},k.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},c),{default:()=>[se(!1,"v-snackbar"),t.default&&v("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[t.default()]),t.actions&&v(ne,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[v("div",{class:"v-snackbar__actions"},[t.actions()])]})],activator:t.activator})}),le({},d)}}),be={class:"markdown-text"},pe=["innerHTML"],Se={__name:"MarkdownText",props:{baseUrl:String,content:String},setup(e){const r=e,t=J(),a=E({visible:!1,text:""}),u=(o,i=!1)=>{var s;if(V.isShown(o)){const l={name:"BuildingBlock",params:{id:o.itemIdentifier}};i?window.open(t.resolve(l).href,"_blank"):t.push(l)}else if((s=o.documentation)!=null&&s["bblocks-viewer"]){const l=o.documentation["bblocks-viewer"].url;i?window.open(l,"_blank"):window.location.href=l}},n=(o,i=!1)=>{var l;let s=null;(l=o.target)!=null&&l.href?s=o.target.href:o.target.tagName.toLowerCase()==="img"&&(s=o.target.src),s!=null&&s.startsWith("bblocks://")&&(o.preventDefault(),V.getBBlocks(!0).then(w=>{const d=s.replace(/^bblocks:\/\//,""),m=w[d];m?u(m,i):(a.text=`Cannot find building block "${d}"`,a.visible=!0,console.log("Unknown bblock",d))}))},c=o=>{o.button===1&&n(o,!0)};return(o,i)=>(f(),_("div",be,[r.content?(f(),_("div",{key:0,innerHTML:G(M)(r.content,r.baseUrl),onClick:n,onAuxclick:c},null,40,pe)):j("",!0),v(ke,{modelValue:a.visible,"onUpdate:modelValue":i[1]||(i[1]=s=>a.visible=s),timeout:"5000",color:"red-accent-4"},{actions:b(()=>[v(g,{variant:"text",onClick:i[0]||(i[0]=s=>a.visible=!1)},{default:b(()=>[x(" Close ")]),_:1})]),default:b(()=>[x(K(a.text)+" ",1)]),_:1},8,["modelValue"])]))}};let P;const he={props:{text:{type:String,default:""},iconTimeout:{type:Number,default:1500},variant:{type:String,default:"flat"},color:{type:String},size:{type:String}},inheritAttrs:!1,data(){return{showFeedback:!1}},methods:{copy(){clearTimeout(P),F(this.text),this.showFeedback=!0,this.$emit("copyToClipboard",this.text),P=setTimeout(()=>this.showFeedback=!1,this.iconTimeout)}},computed:{iconValue(){return this.showFeedback?"mdi-check-bold":"mdi-content-copy"},isIcon(){return!this.$slots.default}}};function we(e,r,t,a,u,n){return f(),y(ce,{modelValue:u.showFeedback,"onUpdate:modelValue":r[0]||(r[0]=c=>u.showFeedback=c),location:"bottom",text:"Copied!","open-on-hover":!1,class:"opaque-tooltip"},{activator:b(({props:c})=>[n.isIcon?(f(),y(g,h({key:0,icon:n.iconValue,variant:t.variant,onClick:S(n.copy,["prevent"])},c,{color:t.color,size:t.size}),null,16,["icon","variant","onClick","color","size"])):(f(),y(g,h({key:1,"prepend-icon":n.iconValue,variant:t.variant,onClick:S(n.copy,["prevent"])},c,{color:t.color}),{default:b(()=>[Q(e.$slots,"default")]),_:2},1040,["prepend-icon","variant","onClick","color"]))]),_:3},8,["modelValue"])}const Te=B(he,[["render",we]]);export{xe as C,Se as _,Te as a};
