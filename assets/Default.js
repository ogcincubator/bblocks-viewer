import{_ as we,c as pe,b as Se}from"./index.js";import{R as Ve}from"./RegisterLoadingProgress.js";import{p as Te,g as V,h as w,w as B,i as X,j as _e,k as ke,l as U,n as H,q as re,u as se,s as ie,t as O,v as A,x as v,y as W,I as Be,z as $,A as Ce,B as N,C as Me,D as ue,E as ce,G as ve,H as xe,J as Ee,K as Pe,L as Le,M as Re,T as de,N as z,r as Q,o as R,O as ee,P as k,c as Y,Q as Ie,R as te,S as De,U as He,V as Ae,W as Ne,X as Ye}from"./vendor.js";import{m as me,a as Oe,b as We,c as $e,u as ze,d as ae,e as Xe,f as Ue,g as je,V as qe,h as Fe,i as Ze,j as Ge}from"./VContainer.js";import{u as j,V as Je,a as Ke,b as Qe,c as et,d as tt}from"./VList.js";import{m as at,V as le,a as lt,b as nt}from"./VToolbar.js";const ot=Te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number]}},"scroll");function rt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{thresholdMetCallback:l,scrollThreshold:o,canScroll:a}=n;let t=0;const r=V(null),s=V(0),i=V(0),y=V(0),u=V(!1),f=V(!1),b=w(()=>Number(e.scrollThreshold??o??300)),h=()=>{const d=r.value;!d||a&&!a.value||(t=s.value,s.value="window"in d?d.pageYOffset:d.scrollTop,f.value=s.value<t,y.value=Math.abs(s.value-b.value))};return B(f,()=>{i.value=i.value||s.value}),B(u,()=>{i.value=0}),X(()=>{B(()=>e.scrollTarget,d=>{var M;const C=d?document.querySelector(d):window;if(!C){_e(`Unable to locate element with identifier ${d}`,ke());return}C!==r.value&&((M=r.value)==null||M.removeEventListener("scroll",h),r.value=C,r.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),U(()=>{var d;(d=r.value)==null||d.removeEventListener("scroll",h)}),l&&B(()=>Math.abs(s.value-i.value)>b.value,d=>{d&&l({currentThreshold:y.value,isScrollingUp:f.value,savedScroll:i})},{immediate:!0}),a&&B(a,h,{immediate:!0}),{computedScrollThreshold:b,currentScroll:s,currentThreshold:y,isScrollActive:u,isScrollingUp:f,savedScroll:i}}const st=H()({name:"VAppBar",props:{scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...at(),...re(),...ot(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const o=V(),a=se(e,"modelValue"),t=w(()=>{var S;const g=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:g.has("hide"),inverted:g.has("inverted"),collapse:g.has("collapse"),elevate:g.has("elevate"),fadeImage:g.has("fade-image")}}),r=w(()=>{const g=t.value;return g.hide||g.inverted||g.collapse||g.elevate||g.fadeImage||!a.value}),{currentScroll:s,currentThreshold:i,computedScrollThreshold:y,isScrollingUp:u}=rt(e,{canScroll:r}),f=w(()=>e.collapse||t.value.collapse&&(t.value.inverted?s.value<1:s.value>0)),b=w(()=>e.flat||t.value.elevate&&s.value===(t.value.inverted?1:0)),h=w(()=>Math.min((i.value-s.value)/i.value||1,1)),d=w(()=>t.value.fadeImage?t.value.inverted?1-h.value:h.value:void 0),C=w(()=>{var c,m;if(t.value.hide&&t.value.inverted)return 0;const g=((c=o.value)==null?void 0:c.contentHeight)??0,S=((m=o.value)==null?void 0:m.extensionHeight)??0;return g+S});function M(){const g=s.value;t.value.hide?t.value.inverted?a.value=g>y.value:a.value=u.value||g<y.value:t.value.inverted?a.value=s.value===0:a.value=!0}B(s,M,{immediate:!0}),B(t,M);const{ssrBootStyles:x}=j(),{layoutItemStyles:L}=ie({id:e.name,order:w(()=>parseInt(e.order,10)),position:O(e,"location"),layoutSize:C,elementSize:V(void 0),active:a,absolute:O(e,"absolute")});return A(()=>{const[g]=le.filterProps(e);return v(le,W({ref:o,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...L.value,"--v-toolbar-image-opacity":d.value,height:void 0,...x.value},e.style]},g,{collapse:f.value,flat:b.value}),l)}),{}}}),it=H()({name:"VAppBarNavIcon",props:{icon:{type:Be,default:"$menu"},...$()},setup(e,n){let{slots:l}=n;return A(()=>v(Je,{class:["v-app-bar-nav-icon",e.class],icon:e.icon,style:e.style},l)),{}}}),ut=H()({name:"VAppBarTitle",props:lt(),setup(e,n){let{slots:l}=n;return A(()=>v(nt,W(e,{class:"v-app-bar-title"}),l)),{}}});const ct=H()({name:"VMain",props:{scrollable:Boolean,...$(),...me({tag:"main"})},setup(e,n){let{slots:l}=n;const{mainStyles:o}=Ce(),{ssrBootStyles:a}=j();return A(()=>v(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,a.value,e.style]},{default:()=>{var t,r;return[e.scrollable?v("div",{class:"v-main__scroller"},[(t=l.default)==null?void 0:t.call(l)]):(r=l.default)==null?void 0:r.call(l)]}})),{}}});function vt(e){let{rootEl:n,isSticky:l,layoutItemStyles:o}=e;const a=V(!1),t=V(0),r=w(()=>{const y=typeof a.value=="boolean"?"top":a.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[y]:N(t.value)}:{top:o.value.top}]});X(()=>{B(l,y=>{y?window.addEventListener("scroll",i,{passive:!0}):window.removeEventListener("scroll",i)},{immediate:!0})}),U(()=>{document.removeEventListener("scroll",i)});let s=0;function i(){const y=s>window.scrollY?"up":"down",u=n.value.getBoundingClientRect(),f=parseFloat(o.value.top??0),b=window.scrollY-Math.max(0,t.value-f),h=u.height+Math.max(t.value,f)-window.scrollY-window.innerHeight;u.height<window.innerHeight-f?(a.value="top",t.value=f):y==="up"&&a.value==="bottom"||y==="down"&&a.value==="top"?(t.value=window.scrollY+u.top,a.value=!0):y==="down"&&h<=0?(t.value=0,a.value="bottom"):y==="up"&&b<=0&&(t.value=u.top+b,a.value="top"),s=window.scrollY}return{isStuck:a,stickyStyles:r}}const dt=100,mt=20;function ne(e){const n=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*n}function oe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const o=ne(n),a=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);n+=(a-o)*Math.abs(a),l===e.length-1&&(n*=.5)}return ne(n)*1e3}function gt(){const e={};function n(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Me(mt))).push([a.timeStamp,t])})}function l(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function o(a){var y;const t=(y=e[a])==null?void 0:y.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const r=t[0],s=[],i=[];for(const u of t){if(r[0]-u[0]>dt)break;s.push({t:u[0],d:u[1].clientX}),i.push({t:u[0],d:u[1].clientY})}return{x:oe(s),y:oe(i),get direction(){const{x:u,y:f}=this,[b,h]=[Math.abs(u),Math.abs(f)];return b>h&&u>=0?"right":b>h&&u<=0?"left":h>b&&f>=0?"down":h>b&&f<=0?"up":ft()}}}return{addMovement:n,endTouch:l,getVelocity:o}}function ft(){throw new Error}function ht(e){let{isActive:n,isTemporary:l,width:o,touchless:a,position:t}=e;X(()=>{window.addEventListener("touchstart",x,{passive:!0}),window.addEventListener("touchmove",L,{passive:!1}),window.addEventListener("touchend",g,{passive:!0})}),U(()=>{window.removeEventListener("touchstart",x),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",g)});const r=w(()=>["left","right"].includes(t.value)),{addMovement:s,endTouch:i,getVelocity:y}=gt();let u=!1;const f=V(!1),b=V(0),h=V(0);let d;function C(c,m){return(t.value==="left"?c:t.value==="right"?document.documentElement.clientWidth-c:t.value==="top"?c:t.value==="bottom"?document.documentElement.clientHeight-c:D())-(m?o.value:0)}function M(c){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const p=t.value==="left"?(c-h.value)/o.value:t.value==="right"?(document.documentElement.clientWidth-c-h.value)/o.value:t.value==="top"?(c-h.value)/o.value:t.value==="bottom"?(document.documentElement.clientHeight-c-h.value)/o.value:D();return m?Math.max(0,Math.min(1,p)):p}function x(c){if(a.value)return;const m=c.changedTouches[0].clientX,p=c.changedTouches[0].clientY,T=25,E=t.value==="left"?m<T:t.value==="right"?m>document.documentElement.clientWidth-T:t.value==="top"?p<T:t.value==="bottom"?p>document.documentElement.clientHeight-T:D(),P=n.value&&(t.value==="left"?m<o.value:t.value==="right"?m>document.documentElement.clientWidth-o.value:t.value==="top"?p<o.value:t.value==="bottom"?p>document.documentElement.clientHeight-o.value:D());(E||P||n.value&&l.value)&&(u=!0,d=[m,p],h.value=C(r.value?m:p,n.value),b.value=M(r.value?m:p),i(c),s(c))}function L(c){const m=c.changedTouches[0].clientX,p=c.changedTouches[0].clientY;if(u){if(!c.cancelable){u=!1;return}const E=Math.abs(m-d[0]),P=Math.abs(p-d[1]);(r.value?E>P&&E>3:P>E&&P>3)?(f.value=!0,u=!1):(r.value?P:E)>3&&(u=!1)}if(!f.value)return;c.preventDefault(),s(c);const T=M(r.value?m:p,!1);b.value=Math.max(0,Math.min(1,T)),T>1?h.value=C(r.value?m:p,!0):T<0&&(h.value=C(r.value?m:p,!1))}function g(c){if(u=!1,!f.value)return;s(c),f.value=!1;const m=y(c.changedTouches[0].identifier),p=Math.abs(m.x),T=Math.abs(m.y);(r.value?p>T&&p>400:T>p&&T>3)?n.value=m.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||D()):n.value=b.value>.5}const S=w(()=>f.value?{transform:t.value==="left"?`translateX(calc(-100% + ${b.value*o.value}px))`:t.value==="right"?`translateX(calc(100% - ${b.value*o.value}px))`:t.value==="top"?`translateY(calc(-100% + ${b.value*o.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${b.value*o.value}px))`:D(),transition:"none"}:void 0);return{isDragging:f,dragProgress:b,dragStyles:S}}function D(){throw new Error}const yt=["start","end","left","right","top","bottom"],bt=H()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>yt.includes(e)},sticky:Boolean,...Oe(),...$(),...We(),...re(),...$e(),...me({tag:"nav"}),...ue()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:l,emit:o,slots:a}=n;const{isRtl:t}=ce(),{themeClasses:r}=ve(e),{borderClasses:s}=ze(e),{backgroundColorClasses:i,backgroundColorStyles:y}=ae(O(e,"color")),{elevationClasses:u}=Xe(e),{mobile:f}=xe(),{roundedClasses:b}=Ue(e),h=je(),d=se(e,"modelValue",null,_=>!!_),{ssrBootStyles:C}=j(),M=V(),x=V(!1),L=w(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),g=w(()=>Ee(e.location,t.value)),S=w(()=>!e.permanent&&(f.value||e.temporary)),c=w(()=>e.sticky&&!S.value&&g.value!=="bottom");e.expandOnHover&&e.rail!=null&&B(x,_=>o("update:rail",!_)),e.disableResizeWatcher||B(S,_=>!e.permanent&&Pe(()=>d.value=!_)),!e.disableRouteWatcher&&h&&B(h.currentRoute,()=>S.value&&(d.value=!1)),B(()=>e.permanent,_=>{_&&(d.value=!0)}),Le(()=>{e.modelValue!=null||S.value||(d.value=e.permanent||!f.value)});const{isDragging:m,dragProgress:p,dragStyles:T}=ht({isActive:d,isTemporary:S,width:L,touchless:O(e,"touchless"),position:g}),E=w(()=>{const _=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):L.value;return m.value?_*p.value:_}),{layoutItemStyles:P,layoutRect:I,layoutItemScrimStyles:ge}=ie({id:e.name,order:w(()=>parseInt(e.order,10)),position:g,layoutSize:E,elementSize:L,active:w(()=>d.value||m.value),disableTransitions:w(()=>m.value),absolute:w(()=>e.absolute||c.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:fe}=vt({rootEl:M,isSticky:c,layoutItemStyles:P}),F=ae(w(()=>typeof e.scrim=="string"?e.scrim:null)),he=w(()=>({...m.value?{opacity:p.value*.2,transition:"none"}:void 0,...I.value?{left:N(I.value.left),right:N(I.value.right),top:N(I.value.top),bottom:N(I.value.bottom)}:void 0,...ge.value}));Re({VList:{bgColor:"transparent"}});function ye(){x.value=!0}function be(){x.value=!1}return A(()=>{const _=a.image||e.image;return v(z,null,[v(e.tag,W({ref:M,onMouseenter:ye,onMouseleave:be,class:["v-navigation-drawer",`v-navigation-drawer--${g.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--active":d.value,"v-navigation-drawer--sticky":c.value},r.value,i.value,s.value,u.value,b.value,e.class],style:[y.value,P.value,T.value,C.value,fe.value,e.style]},l),{default:()=>{var Z,G,J,K;return[_&&v("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(Z=a.image)==null?void 0:Z.call(a,{image:e.image}):v("img",{src:e.image,alt:""},null)]),a.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(G=a.prepend)==null?void 0:G.call(a)]),v("div",{class:"v-navigation-drawer__content"},[(J=a.default)==null?void 0:J.call(a)]),a.append&&v("div",{class:"v-navigation-drawer__append"},[(K=a.append)==null?void 0:K.call(a)])]}}),v(de,{name:"fade-transition"},{default:()=>[S.value&&(m.value||d.value)&&!!e.scrim&&v("div",{class:["v-navigation-drawer__scrim",F.backgroundColorClasses.value],style:[he.value,F.backgroundColorStyles.value],onClick:()=>d.value=!1},null)]})])}),{isStuck:q}}}),wt={components:{RegisterLoadingProgress:Ve},data(){return{registerProgress:{completed:0,total:0,failed:{}},loading:!1,showRegisterLoadingProgress:!1,pageTitle:pe.config.title,navigationDrawer:!1,navigationItems:[{title:"About this register",to:"/"},{title:"Building Blocks list",to:"/bblock"}]}},mounted(){this.showRegisterLoadingProgress=!0,this.loading=!0,Se.onRegisterLoad((e,n,l)=>{const o=Object.keys(e).length;o>0&&(this.registerProgress.total=o,this.registerProgress.completed=n,Object.assign(this.registerProgress.failed,l),o<=n&&setTimeout(()=>{this.showRegisterLoadingProgress=!1},2e3)),this.loading=!1})},computed:{mobile(){return this.$vuetify.display.mobile},navigationDrawerComputed:{get(){return!this.mobile||this.navigationDrawer},set(e){this.navigationDrawer=e}}}};function pt(e,n,l,o,a,t){const r=Q("router-view"),s=Q("register-loading-progress");return R(),ee(z,null,[v(st,{image:"http://blocks.ogc.org/assets/img/lego2.jpg"},{image:k(()=>[v(qe,{gradient:"to top right, rgba(255,255,255,.8), rgba(255,255,255,.4)"})]),default:k(()=>[t.mobile?(R(),Y(it,{key:0,variant:"text",onClick:n[0]||(n[0]=Ie(i=>a.navigationDrawer=!a.navigationDrawer,["stop"]))})):te("",!0),v(ut,{class:"text-center",textContent:De(a.pageTitle)},null,8,["textContent"])]),_:1}),v(bt,{modelValue:t.navigationDrawerComputed,"onUpdate:modelValue":n[1]||(n[1]=i=>t.navigationDrawerComputed=i)},{default:k(()=>[v(Ke,null,{default:k(()=>[(R(!0),ee(z,null,He(a.navigationItems,i=>(R(),Y(Qe,{to:i.to,title:i.title},null,8,["to","title"]))),256))]),_:1})]),_:1},8,["modelValue"]),v(ct,null,{default:k(()=>[v(r,null,{default:k(({Component:i})=>[v(de,{name:"fade",mode:"out-in"},{default:k(()=>[(R(),Y(Ae(i)))]),_:2},1024)]),_:1})]),_:1}),a.showRegisterLoadingProgress?(R(),Y(Ze,{key:0,class:"register-loading-progress"},{default:k(()=>[v(Fe,{class:"pa-1"},{default:k(()=>[v(s,W(a.registerProgress,{onHide:n[2]||(n[2]=i=>this.showRegisterLoadingProgress=!1)}),null,16)]),_:1})]),_:1})):te("",!0),v(tt,{"model-value":a.loading,class:"align-center justify-center"},{default:k(()=>[v(et,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"])],64)}const St=we(wt,[["render",pt]]);const Vt=H()({name:"VApp",props:{...$(),...Ne({fullHeight:!0}),...ue()},setup(e,n){let{slots:l}=n;const o=ve(e),{layoutClasses:a,layoutStyles:t,getLayoutItem:r,items:s,layoutRef:i}=Ye(e),{rtlClasses:y}=ce();return A(()=>{var u;return v("div",{ref:i,class:["v-application",o.themeClasses.value,a.value,y.value,e.class],style:[t.value,e.style]},[v("div",{class:"v-application__wrap"},[(u=l.default)==null?void 0:u.call(l)])])}),{getLayoutItem:r,items:s,theme:o}}}),xt={__name:"Default",setup(e){return(n,l)=>(R(),Y(Vt,null,{default:k(()=>[v(Ge,{fluid:""},{default:k(()=>[v(St)]),_:1})]),_:1}))}};export{xt as default};
