import{s as st,V as be,a as ot,m as rt,b as Ne,u as ct,c as Ue,d as Pe,f as Re,e as dt,g as ze,h as He,i as Ge,j as ge,k as Qe,l as ue,n as _e,o as ft,p as vt,q as ie,r as mt,t as ht,B as gt,v as yt,w as bt}from"./BuildingBlock-ec6bb176.js";import{_ as Ie,C as V,G as L,E as o,L as B,F as Q,I as $,p as ke,M as Se,N as We,n as kt,l as se,x as W,d as Oe,c as k,e as Ye,O as pt,s as Vt,t as H,m as a,r as P,P as _t,Q as Ct,R as xt,y as T,i as $e,S as ye,U as Me,V as Ae,W as Le,w as De,X as Je,J as ee,Y as St,Z as Ee,$ as Ft,z as he,A as Fe,B as we,a0 as U,D as J,a1 as je,a2 as Ce,a3 as wt}from"./index-4ea7a04b.js";import{R as It}from"./RegisterLoadingProgress-0b8130cf.js";import{n as Bt,m as Xe,u as oe,R as Pt,o as At,p as Dt,q as Ze,i as Te,r as qe,s as xe,t as Rt,j as ve,k as me,l as Ot,v as Be}from"./VContainer-2b34d168.js";import{b as Y,c as Lt}from"./ssrBoot-88738873.js";import{V as q,a as ne}from"./VBreadcrumbs-b64f495d.js";import"./_commonjsHelpers-725317a4.js";const Tt={props:{status:String,variant:{type:String,default:"flat"},size:{type:String,default:"small"}},computed:{color(){return st[this.status]||null},label(){return this.status.charAt(0).toUpperCase()+this.status.substring(1).replaceAll("-"," ")}}};function Ut(e,l,t,s,n,r){return t.status?(V(),L(be,{key:0,variant:t.variant,color:r.color,size:t.size},{default:o(()=>[B(Q(r.label),1)]),_:1},8,["variant","color","size"])):$("",!0)}const et=Ie(Tt,[["render",Ut]]);const tt=Symbol.for("vuetify:selection-control-group"),lt=ke({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:Se,trueIcon:Se,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:We},...kt(),...Bt()},"v-selection-control-group");se()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...Xe(),...lt()},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const s=W(e,"modelValue"),n=Oe(),r=k(()=>e.id||`v-selection-control-group-${n}`),f=k(()=>e.name||r.value),c=new Set;return Ye(tt,{modelValue:s,forceUpdate:()=>{c.forEach(i=>i())},onForceUpdate:i=>{c.add(i),pt(()=>{c.delete(i)})}}),Vt({[e.defaultsTarget]:{color:H(e,"color"),disabled:H(e,"disabled"),density:H(e,"density"),error:H(e,"error"),inline:H(e,"inline"),modelValue:s,multiple:k(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),name:f,falseIcon:H(e,"falseIcon"),trueIcon:H(e,"trueIcon"),readonly:H(e,"readonly"),ripple:H(e,"ripple"),type:H(e,"type"),valueComparator:H(e,"valueComparator")}}),oe(()=>{var i;return a("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(i=t.default)==null?void 0:i.call(t)])}),{}}});const at=ke({label:String,trueValue:null,falseValue:null,value:null,...Xe(),...lt()},"v-selection-control");function Mt(e){const l=$e(tt,void 0),{densityClasses:t}=Dt(e),s=W(e,"modelValue"),n=k(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),r=k(()=>e.falseValue!==void 0?e.falseValue:!1),f=k(()=>!!e.multiple||e.multiple==null&&Array.isArray(s.value)),c=k({get(){const d=l?l.modelValue.value:s.value;return f.value?d.some(v=>e.valueComparator(v,n.value)):e.valueComparator(d,n.value)},set(d){if(e.readonly)return;const v=d?n.value:r.value;let b=v;f.value&&(b=d?[...ye(s.value),v]:ye(s.value).filter(A=>!e.valueComparator(A,n.value))),l?l.modelValue.value=b:s.value=b}}),{textColorClasses:i,textColorStyles:h}=Ze(k(()=>c.value&&!e.error&&!e.disabled?e.color:void 0)),g=k(()=>c.value?e.trueIcon:e.falseIcon);return{group:l,densityClasses:t,trueValue:n,falseValue:r,model:c,textColorClasses:i,textColorStyles:h,icon:g}}const Et=se()({name:"VSelectionControl",directives:{Ripple:Pt},inheritAttrs:!1,props:at(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:s}=l;const{group:n,densityClasses:r,icon:f,model:c,textColorClasses:i,textColorStyles:h,trueValue:g}=Mt(e),d=Oe(),v=k(()=>e.id||`input-${d}`),b=P(!1),A=P(!1),w=P();n==null||n.onForceUpdate(()=>{w.value&&(w.value.checked=c.value)});function R(F){b.value=!0,(!Me||Me&&F.target.matches(":focus-visible"))&&(A.value=!0)}function C(){b.value=!1,A.value=!1}function I(F){e.readonly&&n&&Ae(()=>n.forceUpdate()),c.value=F.target.checked}return oe(()=>{var M,j;const F=s.label?s.label({label:e.label,props:{for:v.value}}):e.label,[X,re]=_t(t);return a("div",T({class:["v-selection-control",{"v-selection-control--dirty":c.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":A.value,"v-selection-control--inline":e.inline},r.value,e.class]},X,{style:e.style}),[a("div",{class:["v-selection-control__wrapper",i.value],style:h.value},[(M=s.default)==null?void 0:M.call(s),Ct(a("div",{class:["v-selection-control__input"]},[f.value&&a(At,{key:"icon",icon:f.value},null),a("input",T({ref:w,checked:c.value,disabled:e.disabled,id:v.value,onBlur:C,onFocus:R,onInput:I,"aria-disabled":e.readonly,type:e.type,value:g.value,name:e.name,"aria-checked":e.type==="checkbox"?c.value:void 0},re),null),(j=s.input)==null?void 0:j.call(s,{model:c,textColorClasses:i,textColorStyles:h,props:{onFocus:R,onBlur:C,id:v.value}})]),[[xt("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),F&&a(ot,{for:v.value,clickable:!0},{default:()=>[F]})])}),{isFocused:b,input:w}}}),jt=ke({indeterminate:Boolean,indeterminateIcon:{type:Se,default:"$checkboxIndeterminate"},...at({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),nt=se()({name:"VCheckboxBtn",props:jt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const s=W(e,"indeterminate"),n=W(e,"modelValue");function r(i){s.value&&(s.value=!1)}const f=k(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),c=k(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return oe(()=>a(Et,T(e,{modelValue:n.value,"onUpdate:modelValue":[i=>n.value=i,r],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",inline:!0,falseIcon:f.value,trueIcon:c.value,"aria-checked":e.indeterminate?"mixed":void 0}),t)),{}}});const it=se()({name:"VMenu",props:{id:String,...Le(rt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ne}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const s=W(e,"modelValue"),{scopeId:n}=ct(),r=Oe(),f=k(()=>e.id||`v-menu-${r}`),c=P(),i=$e(Ue,null),h=P(0);Ye(Ue,{register(){++h.value},unregister(){--h.value},closeParents(){setTimeout(()=>{h.value||(s.value=!1,i==null||i.closeParents())},40)}}),De(s,v=>{v?i==null||i.register():i==null||i.unregister()});function g(){i==null||i.closeParents()}const d=k(()=>T({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":f.value},e.activatorProps));return oe(()=>{const[v]=Pe.filterProps(e);return a(Pe,T({ref:c,class:["v-menu",e.class],style:e.style},v,{modelValue:s.value,"onUpdate:modelValue":b=>s.value=b,absolute:!0,activatorProps:d.value,"onClick:outside":g},n),{activator:t.activator,default:function(){for(var b=arguments.length,A=new Array(b),w=0;w<b;w++)A[w]=arguments[w];return a(Te,{root:!0},{default:()=>{var R;return[(R=t.default)==null?void 0:R.call(t,...A)]}})}})}),Re({id:f,ΨopenChildren:h},c)}}),ut=ke({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:We},...dt({itemChildren:!1})},"v-select"),Ke=se()({name:"VSelect",props:{...ut(),...Le(ze({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...qe({transition:{component:Ne}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=Je(),n=P(),r=P(),f=W(e,"menu"),c=k({get:()=>f.value,set:m=>{var _;f.value&&!m&&((_=r.value)!=null&&_.ΨopenChildren)||(f.value=m)}}),{items:i,transformIn:h,transformOut:g}=He(e),d=W(e,"modelValue",[],m=>h(ye(m)),m=>{const _=g(m);return e.multiple?_:_[0]??null}),v=Ge(),b=k(()=>d.value.map(m=>i.value.find(_=>e.valueComparator(_.value,m.value))||m)),A=k(()=>b.value.map(m=>m.props.value)),w=P(!1);let R="",C;const I=k(()=>e.hideSelected?i.value.filter(m=>!b.value.some(_=>_===m)):i.value),F=P();function X(m){e.openOnClear&&(c.value=!0)}function re(){e.hideNoData&&!i.value.length||e.readonly||v!=null&&v.isReadonly.value||(c.value=!c.value)}function M(m){var p,N,E,D;if(e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(m.key)&&m.preventDefault(),["Enter","ArrowDown"," "].includes(m.key)&&(c.value=!0),["Escape","Tab"].includes(m.key)&&(c.value=!1),m.key==="ArrowDown"?(p=F.value)==null||p.focus("next"):m.key==="ArrowUp"?(N=F.value)==null||N.focus("prev"):m.key==="Home"?(E=F.value)==null||E.focus("first"):m.key==="End"&&((D=F.value)==null||D.focus("last"));const _=1e3;function K(u){const y=u.key.length===1,O=!u.ctrlKey&&!u.metaKey&&!u.altKey;return y&&O}if(e.multiple||!K(m))return;const te=performance.now();te-C>_&&(R=""),R+=m.key.toLowerCase(),C=te;const le=i.value.find(u=>u.title.toLowerCase().startsWith(R));le!==void 0&&(d.value=[le])}function j(m){if(e.multiple){const _=A.value.findIndex(K=>e.valueComparator(K,m.value));if(_===-1)d.value=[...d.value,m];else{const K=[...d.value];K.splice(_,1),d.value=K}}else d.value=[m],c.value=!1}function ce(m){var _;(_=F.value)!=null&&_.$el.contains(m.relatedTarget)||(c.value=!1)}function pe(m){w.value=!0}function de(m){var _;m.relatedTarget==null&&((_=n.value)==null||_.focus())}return oe(()=>{const m=!!(e.chips||t.chip),_=!!(!e.hideNoData||I.value.length||t.prepend||t.append||t["no-data"]),K=d.value.length>0,[te]=ge.filterProps(e),le=K||!w.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(ge,T({ref:n},te,{modelValue:d.value.map(p=>p.props.value).join(", "),"onUpdate:modelValue":p=>{p==null&&(d.value=[])},focused:w.value,"onUpdate:focused":p=>w.value=p,validationValue:d.externalValue,dirty:K,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:!0,placeholder:le,"onClick:clear":X,"onMousedown:control":re,onBlur:ce,onKeydown:M}),{...t,default:()=>a(ee,null,[a(it,T({ref:r,modelValue:c.value,"onUpdate:modelValue":p=>c.value=p,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[_&&a(Qe,{ref:F,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onFocusin:pe,onFocusout:de},{default:()=>{var p,N,E;return[!I.value.length&&!e.hideNoData&&(((p=t["no-data"])==null?void 0:p.call(t))??a(ue,{title:s(e.noDataText)},null)),(N=t["prepend-item"])==null?void 0:N.call(t),I.value.map((D,u)=>{var y;return t.item?(y=t.item)==null?void 0:y.call(t,{item:D,index:u,props:T(D.props,{onClick:()=>j(D)})}):a(ue,T({key:u},D.props,{onClick:()=>j(D)}),{prepend:O=>{let{isSelected:ae}=O;return e.multiple&&!e.hideSelected?a(nt,{modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0}})}),(E=t["append-item"])==null?void 0:E.call(t)]}})]}),b.value.map((p,N)=>{var u;function E(y){y.stopPropagation(),y.preventDefault(),j(p)}const D={"onClick:close":E,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:p.value,class:"v-select__selection"},[m?t.chip?a(Te,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:p.title}}},{default:()=>{var y;return[(y=t.chip)==null?void 0:y.call(t,{item:p,index:N,props:D})]}}):a(be,T({key:"chip",closable:e.closableChips,size:"small",text:p.title},D),null):((u=t.selection)==null?void 0:u.call(t,{item:p,index:N}))??a("span",{class:"v-select__selection-text"},[p.title,e.multiple&&N<b.value.length-1&&a("span",{class:"v-select__selection-comma"},[B(",")])])])})])})}),Re({isFocused:w,menu:c,select:j},n)}}),Kt=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Nt=ke({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function zt(e,l,t){var c;const s=[],n=(t==null?void 0:t.default)??Kt,r=t!=null&&t.filterKeys?ye(t.filterKeys):!1,f=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return s;e:for(let i=0;i<e.length;i++){const h=e[i],g={},d={};let v=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof h=="object"){const w=r||Object.keys(h);for(const R of w){const C=Ft(h,R,h),I=(c=t==null?void 0:t.customKeyFilter)==null?void 0:c[R];if(v=I?I(C,l,h):n(C,l,h),v!==-1&&v!==!1)I?g[R]=v:d[R]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=n(h,l,h),v!==-1&&v!==!1&&(d.title=v);const b=Object.keys(d).length,A=Object.keys(g).length;if(!b&&!A||(t==null?void 0:t.filterMode)==="union"&&A!==f&&!b||(t==null?void 0:t.filterMode)==="intersection"&&(A!==f||!b))continue}s.push({index:i,matches:{...d,...g}})}return s}function Ht(e,l,t,s){const n=k(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),r=P([]),f=P(new Map);St(()=>{r.value=[],f.value=new Map;const i=Ee(l);zt(i,n.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:Ee(s==null?void 0:s.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(g=>{let{index:d,matches:v}=g;const b=i[d];r.value.push(b),f.value.set(b.value,v)})});function c(i){return f.value.get(i.value)}return{filteredItems:r,filteredMatches:f,getMatches:c}}function Gt(e,l,t){if(l==null)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return typeof l=="number"&&~l?a(ee,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),a("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const Qt=se()({name:"VAutocomplete",props:{search:String,...Nt({filterKeys:["title"]}),...ut(),...Le(ze({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...qe({transition:!1})},emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=Je(),n=P(),r=P(!1),f=P(!0),c=P(),i=W(e,"menu"),h=k({get:()=>i.value,set:u=>{var y;i.value&&!u&&((y=c.value)!=null&&y.ΨopenChildren)||(i.value=u)}}),g=P(-1),d=k(()=>{var u;return(u=n.value)==null?void 0:u.color}),{items:v,transformIn:b,transformOut:A}=He(e),{textColorClasses:w,textColorStyles:R}=Ze(d),C=W(e,"search",""),I=W(e,"modelValue",[],u=>b(ye(u)),u=>{const y=A(u);return e.multiple?y:y[0]??null}),F=Ge(),{filteredItems:X,getMatches:re}=Ht(e,v,k(()=>f.value?void 0:C.value)),M=k(()=>I.value.map(u=>v.value.find(y=>e.valueComparator(y.value,u.value))||u)),j=k(()=>e.hideSelected?X.value.filter(u=>!M.value.some(y=>y.value===u.value)):X.value),ce=k(()=>M.value.map(u=>u.props.value)),pe=k(()=>M.value[g.value]),de=P();function m(u){e.openOnClear&&(h.value=!0),C.value=""}function _(){e.hideNoData&&!v.value.length||e.readonly||F!=null&&F.isReadonly.value||(h.value=!0)}function K(u){var ae,x,z,Z;if(e.readonly||F!=null&&F.isReadonly.value)return;const y=n.value.selectionStart,O=ce.value.length;if((g.value>-1||["Enter","ArrowDown","ArrowUp"].includes(u.key))&&u.preventDefault(),["Enter","ArrowDown"].includes(u.key)&&(h.value=!0),["Escape"].includes(u.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(u.key)&&(f.value=!0),u.key==="ArrowDown"?(ae=de.value)==null||ae.focus("next"):u.key==="ArrowUp"&&((x=de.value)==null||x.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(u.key)){if(g.value<0){u.key==="Backspace"&&!C.value&&(g.value=O-1);return}const S=g.value;pe.value&&D(pe.value),g.value=S>=O-1?O-2:S}if(u.key==="ArrowLeft"){if(g.value<0&&y>0)return;const S=g.value>-1?g.value-1:O-1;M.value[S]?g.value=S:(g.value=-1,n.value.setSelectionRange((z=C.value)==null?void 0:z.length,(Z=C.value)==null?void 0:Z.length))}if(u.key==="ArrowRight"){if(g.value<0)return;const S=g.value+1;M.value[S]?g.value=S:(g.value=-1,n.value.setSelectionRange(0,0))}}}function te(u){C.value=u.target.value}function le(){r.value&&(f.value=!0)}function p(u){r.value=!0}function N(u){var y;u.relatedTarget==null&&((y=n.value)==null||y.focus())}const E=P(!1);function D(u){if(e.multiple){const y=ce.value.findIndex(O=>e.valueComparator(O,u.value));if(y===-1)I.value=[...I.value,u];else{const O=[...I.value];O.splice(y,1),I.value=O}}else I.value=[u],E.value=!0,t.selection||(C.value=u.title),h.value=!1,f.value=!0,Ae(()=>E.value=!1)}return De(r,u=>{var y;u?(E.value=!0,C.value=e.multiple||t.selection?"":String(((y=M.value.at(-1))==null?void 0:y.props.title)??""),f.value=!0,Ae(()=>E.value=!1)):(h.value=!1,C.value="")}),De(C,u=>{!r.value||E.value||(u&&(h.value=!0),f.value=!u)}),oe(()=>{const u=!!(e.chips||t.chip),y=!!(!e.hideNoData||j.value.length||t.prepend||t.append||t["no-data"]),O=I.value.length>0,[ae]=ge.filterProps(e);return a(ge,T({ref:n},ae,{modelValue:C.value,"onUpdate:modelValue":x=>{x==null&&(I.value=[])},focused:r.value,"onUpdate:focused":x=>r.value=x,validationValue:I.externalValue,dirty:O,onInput:te,class:["v-autocomplete",{"v-autocomplete--active-menu":h.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selecting-index":g.value>-1,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0,"v-autocomplete--selection-slot":!!t.selection},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:e.readonly,placeholder:O?void 0:e.placeholder,"onClick:clear":m,"onMousedown:control":_,onKeydown:K}),{...t,default:()=>a(ee,null,[a(it,T({ref:c,modelValue:h.value,"onUpdate:modelValue":x=>h.value=x,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:le},e.menuProps),{default:()=>[y&&a(Qe,{ref:de,selected:ce.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onFocusin:p,onFocusout:N},{default:()=>{var x,z,Z;return[!j.value.length&&!e.hideNoData&&(((x=t["no-data"])==null?void 0:x.call(t))??a(ue,{title:s(e.noDataText)},null)),(z=t["prepend-item"])==null?void 0:z.call(t),j.value.map(S=>{var fe;return((fe=t.item)==null?void 0:fe.call(t,{item:S,props:T(S.props,{onClick:()=>D(S)})}))??a(ue,T({key:S.value},S.props,{onClick:()=>D(S)}),{prepend:G=>{let{isSelected:Ve}=G;return e.multiple&&!e.hideSelected?a(nt,{modelValue:Ve,ripple:!1,tabindex:"-1"},null):void 0},title:()=>{var G,Ve;return f.value?S.title:Gt(S.title,(G=re(S))==null?void 0:G.title,((Ve=C.value)==null?void 0:Ve.length)??0)}})}),(Z=t["append-item"])==null?void 0:Z.call(t)]}})]}),M.value.map((x,z)=>{var fe;function Z(G){G.stopPropagation(),G.preventDefault(),D(x)}const S={"onClick:close":Z,modelValue:!0,"onUpdate:modelValue":void 0};return a("div",{key:x.value,class:["v-autocomplete__selection",z===g.value&&["v-autocomplete__selection--selected",w.value]],style:z===g.value?R.value:{}},[u?t.chip?a(Te,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>{var G;return[(G=t.chip)==null?void 0:G.call(t,{item:x,index:z,props:S})]}}):a(be,T({key:"chip",closable:e.closableChips,size:"small",text:x.title},S),null):((fe=t.selection)==null?void 0:fe.call(t,{item:x,index:z}))??a("span",{class:"v-autocomplete__selection-text"},[x.title,e.multiple&&z<M.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[B(",")])])])})])})}),Re({isFocused:r,isPristine:f,menu:h,search:C,filteredItems:X,select:D},n)}}),Wt={components:{StatusChip:et},props:{defaultStatuses:{type:Array,default:_e.map(e=>e.value)}},data(){return{loading:!1,textFilter:"",statuses:_e,activeStatuses:null,statusFilter:[],registers:[],registerFilter:[],expanded:!1,noAnimate:!0,tags:null,tagFilter:[]}},mounted(){this.loading=!0,he.config.showImported&&Fe.getRegisters(!0).then(e=>{Object.keys(e).length>1?(this.registers=Object.values(e).sort((l,t)=>l.local!==t.local?l.local?-1:1:l.name.localeCompare(t.name)).map(l=>({name:l.name,url:l.url,color:l.color})),this.registerFilter=this.registers.map(l=>l.url)):(this.registers=[],this.registerFilter=null)}),Fe.getBBlocks(he.config.showImported).then(e=>{const l=new Set,t={};Object.values(e).forEach(s=>{var n;l.add(s.status),(n=s.tags)==null||n.forEach(r=>{r=r.trim().toLowerCase(),t[r]=t[r]?t[r]+1:1})}),this.tags=Object.keys(t).sort(),this.activeStatuses=_e.filter(s=>l.has(s.value)),this.defaultStatuses&&(this.statusFilter=this.defaultStatuses.filter(s=>l.has(s)))}).finally(()=>this.loading=!1),this.expanded=this.$vuetify.display.mdAndUp?"expanded":null,setTimeout(()=>this.noAnimate=!1,350),this.debouncedTextFilter=ft(e=>{this.emitFilter()},300),this.emitFilter()},methods:{selectAllStatuses(){this.statusFilter=_e.map(e=>e.value)},selectOnlyStable(){this.statusFilter=["stable"]},selectRegisters(e){e?this.registerFilter=this.registers.map(l=>l.url):this.registerFilter.length=0},reset(){this.textFilter="",this.statusFilter=this.defaultStatuses.slice(),this.selectRegisters(!0)},emitFilter(){this.$emit("filter-change",{text:this.textFilter,registers:this.registers.length?this.registerFilter:null,status:this.statusFilter,tags:this.tagFilter})}},watch:{registerFilter(){this.emitFilter()},statusFilter(){this.emitFilter()},textFilter(e){this.debouncedTextFilter(e)},tagFilter(){this.emitFilter()},defaultStatuses(){this.statusFilter=this.defaultStatuses.slice()}}},Yt={class:"flex-grow-1 mx-2 filter-text mb-1"},$t={key:0,class:"mx-2 filter-status mb-1"},Jt={key:1,class:"mx-2 filter-registers mb-1"},Xt={key:2,class:"mx-2 filter-tags mb-1"},Zt={class:"mx-2 d-flex align-center filter-reset"};function qt(e,l,t,s,n,r){const f=we("status-chip");return V(),L(ht,{modelValue:n.expanded,"onUpdate:modelValue":l[6]||(l[6]=c=>n.expanded=c),class:je({"no-animate":n.noAnimate})},{default:o(()=>[a(mt,{title:"Filters",value:"expanded",eager:""},{default:o(()=>[a(vt,null,{default:o(()=>{var c;return[U("div",{class:je(["d-flex flex-wrap filter-wrapper justify-end",e.$vuetify.display.mdAndUp?"size-md":""])},[U("div",Yt,[a(ge,{label:"Name or identifier",modelValue:n.textFilter,"onUpdate:modelValue":l[0]||(l[0]=i=>n.textFilter=i),"hide-details":"auto",clearable:""},null,8,["modelValue"])]),n.activeStatuses?(V(),J("div",$t,[a(Ke,{label:"Status","item-title":"label",items:n.activeStatuses,multiple:"",modelValue:n.statusFilter,"onUpdate:modelValue":l[1]||(l[1]=i=>n.statusFilter=i),"hide-details":"auto"},{"prepend-item":o(()=>[a(ue,{class:"all-none"},{default:o(()=>[a(Y,{variant:"text",onClick:r.selectAllStatuses},{default:o(()=>[B("All")]),_:1},8,["onClick"]),a(Y,{variant:"text",onClick:r.selectOnlyStable},{default:o(()=>[B("Only stable")]),_:1},8,["onClick"])]),_:1})]),selection:o(({item:i})=>[a(f,{status:i.value,class:"mb-1"},null,8,["status"])]),_:1},8,["items","modelValue"])])):$("",!0),n.registers.length>1?(V(),J("div",Jt,[a(Ke,{label:"Registers",items:n.registers,multiple:"",modelValue:n.registerFilter,"onUpdate:modelValue":l[4]||(l[4]=i=>n.registerFilter=i),"item-title":"name","item-value":"url","hide-details":"auto"},{"prepend-item":o(()=>[a(ue,{class:"all-none"},{default:o(()=>[a(Y,{variant:"text",onClick:l[2]||(l[2]=i=>r.selectRegisters(!0))},{default:o(()=>[B("All")]),_:1}),a(Y,{variant:"text",onClick:l[3]||(l[3]=i=>r.selectRegisters(!1))},{default:o(()=>[B("None")]),_:1})]),_:1})]),selection:o(({item:i})=>[i.raw?(V(),L(be,{key:0,size:"small",variant:"flat",color:i.raw.color,class:"mb-1"},{default:o(()=>[B(Q(i.title),1)]),_:2},1032,["color"])):$("",!0)]),_:1},8,["items","modelValue"])])):$("",!0),(c=n.tags)!=null&&c.length?(V(),J("div",Xt,[a(Qt,{label:"Tags",items:n.tags,multiple:"",modelValue:n.tagFilter,"onUpdate:modelValue":l[5]||(l[5]=i=>n.tagFilter=i),"hide-details":"auto",clearable:""},null,8,["items","modelValue"])])):$("",!0),a(ie),U("div",Zt,[a(ie),a(Y,{onClick:r.reset,block:e.$vuetify.display.smAndDown},{default:o(()=>[B("Reset")]),_:1},8,["onClick","block"])])],2)]}),_:1})]),_:1})]),_:1},8,["modelValue","class"])}const el=Ie(Wt,[["render",qt]]),tl={components:{StatusChip:et},props:{bblock:{type:Object,required:!0}},methods:{trim(e,l,t="…"){return!e||e.length<=l?e:`${e.substr(0,l-1)}${t}`}}},ll={class:"abstract"},al={class:"bblock-bottom mb-2 ml-2"},nl={key:0,class:"tags mb-2 ml-2"},il=U("span",{class:"tags-title mr-1 mb-1 text-caption"},"Tags:",-1),ul=["textContent"];function sl(e,l,t,s,n,r){const f=we("status-chip");return V(),L(me,{class:"fill-height d-flex flex-column building-block"},{default:o(()=>{var c;return[a(xe,{class:"d-flex pb-0 bblock-name"},{default:o(()=>[U("div",null,[B(Q(t.bblock.name)+" ",1),U("small",null,"v"+Q(t.bblock.version),1)]),a(ie),a(f,{status:t.bblock.status},null,8,["status"])]),_:1}),a(Rt,{class:"text-caption"},{default:o(()=>[U("code",null,Q(t.bblock.itemIdentifier),1)]),_:1}),a(ve,null,{default:o(()=>[U("div",ll,Q(r.trim(t.bblock.abstract,200)),1)]),_:1}),U("div",al,[(c=t.bblock.tags)!=null&&c.length?(V(),J("div",nl,[il,(V(!0),J(ee,null,Ce(t.bblock.tags,i=>(V(),J("span",{class:"tag mr-1 mb-1 text-caption",textContent:Q(i)},null,8,ul))),256))])):$("",!0),U("div",null,[a(be,{variant:"flat",color:t.bblock.register.color,title:t.bblock.register.url},{default:o(()=>[B(Q(t.bblock.register.name),1)]),_:1},8,["color","title"])])])]}),_:1})}const ol=Ie(tl,[["render",sl]]);const rl={components:{BuildingBlockListItem:ol,BuildingBlockFilters:el,RegisterLoadingProgress:It,BuildingBlock:gt},data(){return{loading:!1,buildingBlocks:null,bblockDialog:!1,bblockView:null,registerProgress:{completed:0,total:0},showRegisterLoadingProgress:!1,filterValues:null,moreInfoPopup:{show:!1,title:he.config.title},validationReports:[]}},mounted(){this.loading=!0,Fe.getBBlocks(he.config.showImported).then(e=>{this.buildingBlocks=Object.values(e).sort((l,t)=>{const s=l.itemIdentifier.toLowerCase(),n=t.itemIdentifier.toLowerCase();return s<n?-1:s>n?1:0})}).finally(()=>{this.loading=!1}),Fe.getRegisters(he.config.showImported).then(e=>{this.validationReports=Object.values(e).filter(l=>!!l.validationReport).map(l=>({name:l.name,url:l.validationReport}))})},methods:{openUrl(e){window.open(e)},isVisible(e){var l,t;if(this.filterValues.text){const s=this.filterValues.text.trim().toLowerCase();if(e.itemIdentifier.toLowerCase().indexOf(s)<0&&e.name.toLowerCase().indexOf(s)<0)return!1}return!(!this.filterValues.status.includes(e.status)||this.filterValues.registers!==null&&!this.filterValues.registers.includes(e.register.url)||(l=this.filterValues.tags)!=null&&l.length&&!((t=e.tags)!=null&&t.some(s=>this.filterValues.tags.includes(s))))}},computed:{filteredBuildingBlocks(){if(!this.filterValues||!this.buildingBlocks)return[];const e=[],l=[];return this.buildingBlocks.forEach(t=>{this.isVisible(t)&&(t.highlighted?e:l).push(t)}),{highlighted:e,nonHighlighted:l}}}},cl=U("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed pharetra tortor at ante tempor pretium. Quisque imperdiet purus justo, eget volutpat justo vulputate ac. Fusce at tempor metus. Integer eleifend finibus lectus, non bibendum leo tincidunt eget. Nunc sollicitudin tortor odio, eu venenatis risus consectetur vitae. ",-1),dl=U("h2",null,"Highlighted Building Blocks",-1),fl=U("p",null," Aenean non eros et sapien aliquet malesuada finibus in ex. Etiam eu sodales sem, lacinia pulvinar metus. Ut fringilla ut nulla nec porttitor. Aliquam arcu lacus, aliquet eu egestas sed, convallis eget diam. Sed odio metus, accumsan non turpis vitae, egestas tincidunt neque. ",-1),vl=U("p",null," Nullam id fringilla tellus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ut pharetra orci. Sed lobortis ac turpis et faucibus. Etiam bibendum sagittis orci, vel auctor risus semper et. Nullam id dolor quis diam porta interdum a id lorem. ",-1);function ml(e,l,t,s,n,r){const f=we("building-block-filters"),c=we("building-block-list-item");return V(),L(Ot,{class:"bblock-list"},{default:o(()=>{var i,h,g;return[a(ne,null,{default:o(()=>[a(q,null,{default:o(()=>[a(me,{elevation:"10"},{default:o(()=>[a(ve,null,{default:o(()=>[cl]),_:1}),a(Be,null,{default:o(()=>[a(ie),a(Y,{color:"primary",onClick:l[0]||(l[0]=wt(d=>n.moreInfoPopup.show=!0,["prevent"]))},{default:o(()=>[B("Tell me more")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(i=n.validationReports)!=null&&i.length?(V(),L(ne,{key:0},{default:o(()=>[a(q,null,{default:o(()=>[a(me,null,{default:o(()=>[n.validationReports.length>1?(V(),L(ve,{key:0},{default:o(()=>[B(" There are validation reports available for the following registers. ")]),_:1})):(V(),L(ve,{key:1},{default:o(()=>[B(" There is a validation report available for this register. ")]),_:1})),a(Be,null,{default:o(()=>[a(ie),n.validationReports.length>1?(V(!0),J(ee,{key:0},Ce(n.validationReports,d=>(V(),L(Y,{onClick:v=>r.openUrl(d.url)},{default:o(()=>[B(Q(d.name),1)]),_:2},1032,["onClick"]))),256)):(V(),L(Y,{key:1,onClick:l[1]||(l[1]=d=>r.openUrl(n.validationReports[0].url))},{default:o(()=>[B(" See report ")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0),a(ne,null,{default:o(()=>[a(q,null,{default:o(()=>[a(f,{onFilterChange:l[2]||(l[2]=d=>this.filterValues=d)})]),_:1})]),_:1}),(g=(h=r.filteredBuildingBlocks)==null?void 0:h.highlighted)!=null&&g.length?(V(),L(ne,{key:1,align:"stretch"},{default:o(()=>[a(q,{cols:"12"},{default:o(()=>[dl]),_:1}),(V(!0),J(ee,null,Ce(r.filteredBuildingBlocks.highlighted,d=>(V(),L(q,{key:d.itemIdentifier,md:"6"},{default:o(()=>[a(c,{bblock:d,to:{name:"BuildingBlock",params:{id:d.itemIdentifier}},class:"highlighted-bblock"},null,8,["bblock","to"])]),_:2},1024))),128)),a(yt)]),_:1})):$("",!0),a(ne,{align:"stretch"},{default:o(()=>[(V(!0),J(ee,null,Ce(r.filteredBuildingBlocks.nonHighlighted,d=>(V(),L(q,{key:d.itemIdentifier,md:"6"},{default:o(()=>[a(c,{bblock:d,to:{name:"BuildingBlock",params:{id:d.itemIdentifier}}},null,8,["bblock","to"])]),_:2},1024))),128))]),_:1}),n.buildingBlocks&&!r.filteredBuildingBlocks.nonHighlighted.length&&!r.filteredBuildingBlocks.highlighted.length?(V(),L(ne,{key:2},{default:o(()=>[a(q,null,{default:o(()=>[a(me,null,{default:o(()=>[n.buildingBlocks.length?(V(),L(xe,{key:0},{default:o(()=>[B("No building blocks match the current filters")]),_:1})):(V(),L(xe,{key:1},{default:o(()=>[B("No building blocks were found in the register.")]),_:1}))]),_:1})]),_:1})]),_:1})):$("",!0),a(Pe,{"model-value":n.loading,class:"align-center justify-center"},{default:o(()=>[a(Lt,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["model-value"]),a(bt,{modelValue:n.moreInfoPopup.show,"onUpdate:modelValue":l[3]||(l[3]=d=>n.moreInfoPopup.show=d),"max-width":"750"},{default:o(({isActive:d})=>[a(me,null,{default:o(()=>[a(xe,null,{default:o(()=>[B("About "+Q(n.moreInfoPopup.title),1)]),_:1}),a(ve,{class:"more-info"},{default:o(()=>[fl,vl]),_:1}),a(Be,null,{default:o(()=>[a(ie),a(Y,{text:"Close",onClick:v=>d.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]}),_:1})}const _l=Ie(rl,[["render",ml]]);export{_l as default};
