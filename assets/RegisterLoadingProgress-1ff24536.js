import{_ as V,J as a,K as g,S as m,q as e,M as n,O as d,W as c,P as x,L as r,N as p,a4 as k,F as w,Q as C}from"./index-5d957072.js";import{w as _,k as v,j as b,n as y}from"./VContainer-05f6310e.js";import{V as u,b as E,f as D,d as L,c as N}from"./VList-db744af0.js";import{c as S}from"./VToolbar-a7e75a99.js";const B={props:{completed:Number,total:Number,failed:Object},data(){return{showErrorsDialog:!1}},methods:{openUrl(f){window.open(f)}},computed:{finished(){return this.completed+Object.keys(this.failed).length===this.total},hasErrors(){return this.failed&&Object.keys(this.failed).length},textColor(){return this.hasErrors?"error":this.total>0&&this.completed==this.total?"success":"primary"},textStyle(){return this.hasErrors?"color: rgb(var(--v-theme-error))":""}}},j={key:0,class:"d-flex align-center"},z={class:"flex-grow-1 flex-shrink-1"},O=m("p",null,"The following errors were encountered while loading the list of building block registers:",-1);function P(f,t,l,R,i,o){return l.total?(a(),g("div",j,[m("div",z,[e(_,{"model-value":100*l.completed/l.total,color:o.textColor},null,8,["model-value","color"])]),m("div",{class:"text-caption text-no-wrap pl-3",style:k(o.textStyle)},[o.finished?d("",!0):(a(),n(L,{key:0,size:"10",indeterminate:"",class:"mr-1"})),c(" Loaded "+x(l.completed)+" / "+x(l.total)+" registers ",1),o.hasErrors?(a(),n(u,{key:1,class:"mx-2",size:"x-small",color:"error","prepend-icon":"mdi-alert-octagon",onClick:t[0]||(t[0]=s=>i.showErrorsDialog=!0)},{default:r(()=>[c(" Errors ")]),_:1})):d("",!0),e(u,{size:"x-small",onClick:t[1]||(t[1]=p(s=>this.$emit("hide"),["prevent"])),class:"mx-2"},{default:r(()=>[c("Hide")]),_:1})],4),e(S,{modelValue:i.showErrorsDialog,"onUpdate:modelValue":t[3]||(t[3]=s=>i.showErrorsDialog=s),"max-width":"800"},{default:r(()=>[e(v,{title:"Register load errors"},{default:r(()=>[e(b,null,{default:r(()=>[O,e(E,null,{default:r(()=>[(a(!0),g(w,null,C(this.failed,(s,h)=>(a(),n(N,{title:h,subtitle:s.error.toString(),onClick:p(T=>o.openUrl(h),["prevent"])},null,8,["title","subtitle","onClick"]))),256))]),_:1})]),_:1}),e(y,null,{default:r(()=>[e(D),e(u,{text:"Close",onClick:t[2]||(t[2]=s=>i.showErrorsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):d("",!0)}const A=V(B,[["render",P]]);export{A as R};
