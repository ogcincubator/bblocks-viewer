import{_ as V,J as a,K as g,S as m,m as e,M as n,O as d,W as u,P as x,L as r,N as p,X as k,F as w,Q as C}from"./index-635a2a88.js";import{s as _,l as v,k as b,o as y}from"./VContainer-acd3c796.js";import{b as c,c as E,g as D,i as L,e as N,d as S}from"./VList-484eddc5.js";const B={props:{completed:Number,total:Number,failed:Object},data(){return{showErrorsDialog:!1}},methods:{openUrl(h){window.open(h)}},computed:{finished(){return this.completed+Object.keys(this.failed).length===this.total},hasErrors(){return this.failed&&Object.keys(this.failed).length},textColor(){return this.hasErrors?"error":this.total>0&&this.completed==this.total?"success":"primary"},textStyle(){return this.hasErrors?"color: rgb(var(--v-theme-error))":""}}},z={key:0,class:"d-flex align-center"},O={class:"flex-grow-1 flex-shrink-1"},P=m("p",null,"The following errors were encountered while loading the list of building block registers:",-1);function j(h,t,l,R,i,o){return l.total?(a(),g("div",z,[m("div",O,[e(_,{"model-value":100*l.completed/l.total,color:o.textColor},null,8,["model-value","color"])]),m("div",{class:"text-caption text-no-wrap pl-3",style:k(o.textStyle)},[o.finished?d("",!0):(a(),n(N,{key:0,size:"10",indeterminate:"",class:"mr-1"})),u(" Loaded "+x(l.completed)+" / "+x(l.total)+" registers ",1),o.hasErrors?(a(),n(c,{key:1,class:"mx-2",size:"x-small",color:"error","prepend-icon":"mdi-alert-octagon",onClick:t[0]||(t[0]=s=>i.showErrorsDialog=!0)},{default:r(()=>[u(" Errors ")]),_:1})):d("",!0),e(c,{size:"x-small",onClick:t[1]||(t[1]=p(s=>this.$emit("hide"),["prevent"])),class:"mx-2"},{default:r(()=>[u("Hide")]),_:1})],4),e(L,{modelValue:i.showErrorsDialog,"onUpdate:modelValue":t[3]||(t[3]=s=>i.showErrorsDialog=s),"max-width":"800"},{default:r(()=>[e(v,{title:"Register load errors"},{default:r(()=>[e(b,null,{default:r(()=>[P,e(E,null,{default:r(()=>[(a(!0),g(w,null,C(this.failed,(s,f)=>(a(),n(S,{title:f,subtitle:s.error.toString(),onClick:p(T=>o.openUrl(f),["prevent"])},null,8,["title","subtitle","onClick"]))),256))]),_:1})]),_:1}),e(y,null,{default:r(()=>[e(D),e(c,{text:"Close",onClick:t[2]||(t[2]=s=>i.showErrorsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):d("",!0)}const A=V(B,[["render",j]]);export{A as R};
