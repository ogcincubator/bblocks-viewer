import{o as a,O as g,Y as u,x as e,c as n,R as d,Z as c,S as x,P as r,Q as p,a5 as V,N as k,U as w}from"./vendor.js";import{_ as C}from"./index.js";import{s as _,i as v,h as b,k as y}from"./VContainer.js";import{V as m,a as E,e as D,c as N,b as S}from"./VList.js";import{c as L}from"./VToolbar.js";const B={props:{completed:Number,total:Number,failed:Object},data(){return{showErrorsDialog:!1}},methods:{openUrl(f){window.open(f)}},computed:{finished(){return this.completed+Object.keys(this.failed).length===this.total},hasErrors(){return this.failed&&Object.keys(this.failed).length},textColor(){return this.hasErrors?"error":this.total>0&&this.completed==this.total?"success":"primary"},textStyle(){return this.hasErrors?"color: rgb(var(--v-theme-error))":""}}},z={key:0,class:"d-flex align-center"},O={class:"flex-grow-1 flex-shrink-1"},P=u("p",null,"The following errors were encountered while loading the list of building block registers:",-1);function R(f,t,o,U,i,l){return o.total?(a(),g("div",z,[u("div",O,[e(_,{"model-value":100*o.completed/o.total,color:l.textColor},null,8,["model-value","color"])]),u("div",{class:"text-caption text-no-wrap pl-3",style:V(l.textStyle)},[l.finished?d("",!0):(a(),n(N,{key:0,size:"10",indeterminate:"",class:"mr-1"})),c(" Loaded "+x(o.completed)+" / "+x(o.total)+" registers ",1),l.hasErrors?(a(),n(m,{key:1,class:"mx-2",size:"x-small",color:"error","prepend-icon":"mdi-alert-octagon",onClick:t[0]||(t[0]=s=>i.showErrorsDialog=!0)},{default:r(()=>[c(" Errors ")]),_:1})):d("",!0),e(m,{size:"x-small",onClick:t[1]||(t[1]=p(s=>this.$emit("hide"),["prevent"])),class:"mx-2"},{default:r(()=>[c("Hide")]),_:1})],4),e(L,{modelValue:i.showErrorsDialog,"onUpdate:modelValue":t[3]||(t[3]=s=>i.showErrorsDialog=s),"max-width":"800"},{default:r(()=>[e(v,{title:"Register load errors"},{default:r(()=>[e(b,null,{default:r(()=>[P,e(E,null,{default:r(()=>[(a(!0),g(k,null,w(this.failed,(s,h)=>(a(),n(S,{title:h,subtitle:s.error.toString(),onClick:p(j=>l.openUrl(h),["prevent"])},null,8,["title","subtitle","onClick"]))),256))]),_:1})]),_:1}),e(y,null,{default:r(()=>[e(D),e(m,{text:"Close",onClick:t[2]||(t[2]=s=>i.showErrorsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):d("",!0)}const M=C(B,[["render",R]]);export{M as R};
