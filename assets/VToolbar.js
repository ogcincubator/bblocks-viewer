import{I as V,y as T,J as H,z as _,az as A,C as I,X as F,A as x,N,M as P,aA as z,n as a,Q as D,L,U as O,T as U,Z as M,$,R as f}from"./vendor.js";import{v as j,i as J,w as Q,g as R,x as W}from"./VList.js";import{V as X}from"./dialog-transition.js";import{s as b,m as w,d as Z,u as q,e as G,f as K,h as Y,i as p,j as ee,k as te}from"./VContainer.js";const ae=T({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Q({origin:"center center",scrollStrategy:"block",transition:{component:X},zIndex:2400})},"v-dialog"),de=V()({name:"VDialog",props:ae(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const r=H(e,"modelValue"),{scopeId:d}=j(),n=_();function m(i){var s,u;const o=i.relatedTarget,l=i.target;if(o!==l&&((s=n.value)!=null&&s.contentEl)&&((u=n.value)!=null&&u.globalTop)&&![document,n.value.contentEl].includes(l)&&!n.value.contentEl.contains(l)){const c=z(n.value.contentEl);if(!c.length)return;const g=c[0],y=c[c.length-1];o===g?y.focus():g.focus()}}A&&I(()=>r.value&&e.retainFocus,i=>{i?document.addEventListener("focusin",m):document.removeEventListener("focusin",m)},{immediate:!0}),I(r,async i=>{var o,l;await F(),i?(o=n.value.contentEl)==null||o.focus({preventScroll:!0}):(l=n.value.activatorEl)==null||l.focus({preventScroll:!0})});const h=x(()=>N({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return P(()=>{const[i]=R.filterProps(e);return a(R,N({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},i,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,"aria-modal":"true",activatorProps:h.value,role:"dialog"},d),{activator:t.activator,default:function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return a(b,{root:!0},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t,...l)]}})}})}),J({},n)}}),le=T({text:String,...D(),...w()},"v-toolbar-title"),oe=V()({name:"VToolbarTitle",props:le(),setup(e,v){let{slots:t}=v;return P(()=>{const r=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var d;return[r&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(d=t.default)==null?void 0:d.call(t)])]}})}),{}}}),ne=[null,"prominent","default","comfortable","compact"],se=T({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ne.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ee(),...D(),...p(),...Y(),...w({tag:"header"}),...$()},"v-toolbar"),ve=V()({name:"VToolbar",props:se(),setup(e,v){var c;let{slots:t}=v;const{backgroundColorClasses:r,backgroundColorStyles:d}=Z(L(e,"color")),{borderClasses:n}=q(e),{elevationClasses:m}=G(e),{roundedClasses:h}=K(e),{themeClasses:i}=O(e),{rtlClasses:o}=U(),l=_(!!(e.extended||(c=t.extension)!=null&&c.call(t))),s=x(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),u=x(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return M({VBtn:{variant:"text"}}),P(()=>{var E;const g=!!(e.title||t.title),y=!!(t.image||e.image),k=(E=t.extension)==null?void 0:E.call(t);return l.value=!!(e.extended||k),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,n.value,m.value,h.value,i.value,o.value,e.class],style:[d.value,e.style]},{default:()=>[y&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(b,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(te,{key:"image-img",cover:!0,src:e.image},null)]),a(b,{defaults:{VTabs:{height:f(s.value)}}},{default:()=>{var S,B,C;return[a("div",{class:"v-toolbar__content",style:{height:f(s.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(S=t.prepend)==null?void 0:S.call(t)]),g&&a(oe,{key:"title",text:e.title},{text:t.title}),(B=t.default)==null?void 0:B.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(C=t.append)==null?void 0:C.call(t)])])]}}),a(b,{defaults:{VTabs:{height:f(u.value)}}},{default:()=>[a(W,null,{default:()=>[l.value&&a("div",{class:"v-toolbar__extension",style:{height:f(u.value)}},[k])]})]})]})}),{contentHeight:s,extensionHeight:u}}});export{de as V,ve as a,le as b,oe as c,se as m};
